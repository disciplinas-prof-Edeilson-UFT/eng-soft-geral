# CRUD com PHP 

## o que Ã© CRUD?

CRUD Ã© um acrÃ´nimo para os verbos em inglÃªs: Create, Read, Update e Delete, que se referem a operaÃ§Ãµes bÃ¡sicas de manipulaÃ§Ã£o de dados no backend da aplicaÃ§Ã£o. O "create" refere-se a inserÃ§Ã£o de dados no banco, o "read" Ã  leitura/recuperaÃ§Ã£o desses dados do banco, o "update" a atualizaÃ§Ã£o de dados registrados e o "delete" Ã  deleÃ§Ã£o destes dados. Esses verbos CRUD estÃ£o diretamente ligados aos verbos HTTP (GET, POST, PUT e DELETE), que sÃ£o usados para definir o tipo de aÃ§Ã£o que o cliente (navegador ou outra aplicaÃ§Ã£o) deseja realizar no servidor. O client (navegador) envia uma requisiÃ§Ã£o ao servidor, contendo algum verbo http no cabeÃ§alho, o backend processa essa requisiÃ§Ã£o (realiza alguma aÃ§Ã£o) e envia uma resposta HTTP ao cliente, indicando o resultado desta operaÃ§Ã£o.

Na comunicaÃ§Ã£o HTTP, cada requisiÃ§Ã£o vem acompanhada de um *status code* que indica ao cliente como a operaÃ§Ã£o ocorreu. Por exemplo, "201" (Created) Ã© retornado quando um recurso Ã© criado com sucesso, enquanto "200" (OK) confirma o sucesso da requisiÃ§Ã£o. JÃ¡ "204" (No Content) significa que o servidor processou a requisiÃ§Ã£o e nÃ£o hÃ¡ conteÃºdo a retornar. Esses cÃ³digos ajudam o client (navegador ou outra aplicaÃ§Ã£o) a entender se a aÃ§Ã£o foi concluÃ­da corretamente ou se houve erro.  

Nos capÃ­tulos anteriores vimos como inserir dados no banco com PDO, isso jÃ¡ configuraria o que chamamos de "Create" no CRUD, agora iremos abordar os demais verbos neste capÃ­tulo.

## exemplo fictÃ­cio

```php
function create() {
    echo "Inserindo dados no banco";
    http_response_code(201); //status code 201: Created
}

function read() {
    echo "Recuperando dados do banco";
    http_response_code(200); //status code 200: OK
}

function update() {
    echo "Atualizando dados no banco";
    http_response_code(200); //status code 200: OK
}

function delete() {
    echo "Deletando dados no banco";
    http_response_code(204); //status code 204: No Content
}

//A variÃ¡vel global "$_SERVER" recupera o mÃ©todo da requisiÃ§Ã£o (GET, POST, PUT, DELETE)
$method = $_SERVER['REQUEST_METHOD'];

//Roteamento bÃ¡sico para simular cada operaÃ§Ã£o CRUD
switch ($method) {
    case 'POST':
        create();
        break;
    case 'GET':
        read();
        break;
    case 'PUT':
        update();
        break;
    case 'DELETE':
        delete();
        break;
}
```

> **ğŸš¨ No t07-composer abordaremos na prÃ¡tica os conceitos de um sistema de roteamento em um projeto real**