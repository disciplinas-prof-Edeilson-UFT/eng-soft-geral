<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title></title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="guia-b√°sico-de-conte√∫dos-para-a-disciplina-de-engenharia-de-software"><a class="header" href="#guia-b√°sico-de-conte√∫dos-para-a-disciplina-de-engenharia-de-software">Guia B√°sico de Conte√∫dos para a Disciplina de Engenharia de Software</a></h1>
<p>Por Lauro Oliveira Mota, Mara Emanuella Carvalho Martins e Edeilson Milhomem da Silva, 2025</p>
<p>Esta edi√ß√£o assume que voc√™ tem instalado em sua m√°quina as ferramentas PHP 8+, Composer e Docker (opcional) nas vers√µes mais recentes (2025).</p>
<p>Este material est√° dispon√≠vel online em <a href="https://disciplinas-prof-edeilson-uft.github.io/eng-soft-geral/">Guia de Engenharia de Software</a> ou pode ser compilada localmente com o mdBook. Para isso, basta executar:</p>
<pre><code class="language-bash">$ cd guia-mdbook
$ mdbook serve --open
</code></pre>
<p>Certifique-se de ter o mdBook instalado via:</p>
<pre><code class="language-bash">$ cargo install mdbook
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="pref√°cio"><a class="header" href="#pref√°cio">Pref√°cio</a></h1>
<p>Este material nasceu da experi√™ncia de quem j√° trope√ßou em conflitos de Git, d√∫vidas em Code Review e desafios para manter um padr√£o de arquitetura. Nosso objetivo foi construir um ‚Äúcompanheiro de estudos‚Äù que:</p>
<ul>
<li>Integra teoria e pr√°tica em um fluxo cont√≠nuo, apresentando snapshots progressivos de um mesmo projeto para ilustrar os conceitos de cada cap√≠tulo.</li>
<li>Permite que voc√™ acompanhe cada etapa do desenvolvimento do sistema, desde a configura√ß√£o inicial at√© features completas.</li>
</ul>
<p>Agradecemos a todos que contribu√≠ram com feedback e sugest√µes. Esperamos que este guia seja inspirador na jornada de desenvolvimento do seu projeto, e que ele o ajude a evoluir como profissional e a desenvolver softwares cada vez melhores.</p>
<hr />
<ul>
<li>Lauro Oliveira Mota, Mara Emanuella Carvalho Martins e Edeilson Milhomem da Silva, 2025</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="introdu√ß√£o"><a class="header" href="#introdu√ß√£o">Introdu√ß√£o</a></h1>
<p>Seja bem-vindo(a) a este guia pr√°tico e te√≥rico de Engenharia de Software!<br />
Aqui voc√™ encontrar√°:</p>
<ol>
<li>Um mdBook organizado em cap√≠tulos curtos, com explica√ß√µes claras sobre Git/GitHub, Code Review, GitFlow, PHP, CRUD, sess√µes e muito mais.</li>
<li>Um projeto evolutivo em PHP/HTML/CSS que mostra, passo a passo, como aplicar cada conceito em um sistema web chamado <strong>Conex</strong>, uma rede social fict√≠cia.</li>
</ol>
<p>√Ä medida que avan√ßa, voc√™ alternar√° entre teoria e pr√°tica, visualizando imediatamente o resultado no navegador:</p>
<p><img src="" alt="Tela de Login" /><br />
Figura 1. Tela de Login do sistema</p>
<p><img src="" alt="Feed de Posts" /><br />
Figura 2. Feed de Posts dos usu√°rios</p>
<p><img src="" alt="Perfil de Usu√°rio" /><br />
Figura 3. P√°gina de Perfil com op√ß√µes de edi√ß√£o e follow</p>
<h2 id="para-quem-√©-este-guia"><a class="header" href="#para-quem-√©-este-guia">Para quem √© este guia?</a></h2>
<p>Este guia √© voltado para estudantes que desejam aprimorar suas habilidades em Engenharia de Software, Git/GitHub, Code Review, GitFlow e PHP. Ele √© especialmente √∫til para aqueles que est√£o iniciando sua jornada na programa√ß√£o e desejam aprender de forma pr√°tica e aplicada. Se voc√™ nunca programou nada antes, este guia tamb√©m √© para voc√™.</p>
<h2 id="como-usar-este-guia"><a class="header" href="#como-usar-este-guia">Como usar este guia?</a></h2>
<ul>
<li><strong>Estude os conceitos</strong>: Leia cada cap√≠tulo e entenda os conceitos apresentados.</li>
<li><strong>Experimente</strong>: Acompanhe o desenvolvimento do projeto Conex, entrando nas pastas referentes ao cap√≠tulo que voc√™ est√° lendo e rode o c√≥digo localmente.</li>
<li><strong>Pratique</strong>: Aplique os conceitos aprendidos em projetos pessoais ou acad√™micos.</li>
<li><strong>Contribua</strong>: Se voc√™ encontrar erros ou tiver sugest√µes, sinta-se √† vontade para contribuir com o guia. Sua participa√ß√£o √© muito bem-vinda!</li>
</ul>
<p>Bons estudos e boas pr√°ticas!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="guia-b√°sico-de-conte√∫dos-para-a-disciplina-de-engenharia-de-software-1"><a class="header" href="#guia-b√°sico-de-conte√∫dos-para-a-disciplina-de-engenharia-de-software-1">Guia B√°sico de Conte√∫dos para a Disciplina de Engenharia de Software</a></h1>
<h1 id="cap√≠tulo-1--utilizando-git-e-github"><a class="header" href="#cap√≠tulo-1--utilizando-git-e-github">Cap√≠tulo 1 ‚Äì Utilizando Git e GitHub</a></h1>
<p>Voc√™ j√° se perguntou como equipes espalhadas pelo mundo conseguem colaborar em um mesmo projeto de software sem perder o controle das mudan√ßas? √â a√≠ que entram o Git e o GitHub. Neste cap√≠tulo, iremos abordar esses dois conceitos, que n√£o s√£o a mesma coisa, e entender por que eles s√£o essenciais e como funcionam na pr√°tica. Sem entrar ainda nos comandos, vamos descobrir o contexto e o prop√≥sito de cada etapa.</p>
<h2 id="100-introdu√ß√£o-ao-git-e-github"><a class="header" href="#100-introdu√ß√£o-ao-git-e-github">1.0.0. Introdu√ß√£o ao Git e GitHub</a></h2>
<p>Imagine o Git como um livro de registros que anota cada detalhe do seu c√≥digo: quem fez a mudan√ßa, quando e por qu√™. Ele √© um sistema de controle de vers√µes distribu√≠do, ou seja, cada desenvolvedor tem sua pr√≥pria c√≥pia completa do reposit√≥rio e pode trabalhar offline sem perder hist√≥rico ou dados. Isso significa que, mesmo que voc√™ esteja longe da internet, pode fazer altera√ß√µes e depois sincronizar tudo quando voltar.</p>
<p>J√° o GitHub √© a estante na nuvem onde voc√™ guarda esse livro. Nele, voc√™ compartilha seu reposit√≥rio, revisa c√≥digo em conjunto com a equipe e gerencia o projeto de forma colaborativa.</p>
<h2 id="101-conceitos-b√°sicos"><a class="header" href="#101-conceitos-b√°sicos">1.0.1. Conceitos B√°sicos</a></h2>
<ol>
<li>
<p>Configura√ß√µes iniciais:</p>
<p>Ao instalar o Git, o primeiro passo √© informar seu nome e e-mail. Assim, todas as altera√ß√µes ficam corretamente atribu√≠das a voc√™.</p>
</li>
<li>
<p>Commits:</p>
<p>Pense em um commit como um ‚Äúcheckpoint‚Äù no seu projeto. Cada commit salva o estado atual do c√≥digo junto com uma mensagem descritiva. Se algo n√£o sair como o esperado, √© s√≥ voltar a um checkpoint anterior.</p>
</li>
<li>
<p>Branches:</p>
<p>Branches s√£o ramifica√ß√µes do seu projeto. Voc√™ cria uma branch para desenvolver uma nova funcionalidade sem interferir na vers√£o principal. Quando tudo estiver pronto, faz o merge de volta.</p>
</li>
<li>
<p>Trabalho remoto:</p>
<p>Com o GitHub, voc√™ envia (push) seu c√≥digo para um reposit√≥rio remoto, garantindo que toda a equipe trabalhe na mesma vers√£o. Assim, colabora√ß√£o e sincroniza√ß√£o ficam muito mais f√°ceis.</p>
</li>
<li>
<p>Pull Requests:</p>
<p>Quando voc√™ termina uma funcionalidade, abre um Pull Request (PR) para que outros revisem seu c√≥digo antes de integr√°-lo ao projeto principal.</p>
</li>
<li>
<p>Code Review:</p>
<p>O Code Review √© o processo de revisar o c√≥digo de outra pessoa antes de integr√°-lo ao projeto.</p>
</li>
<li>
<p>Merge:</p>
<p>Ap√≥s a aprova√ß√£o do PR, o c√≥digo √© mesclado (merged) √† branch principal. Isso garante que todas as altera√ß√µes revisadas e aprovadas sejam integradas ao projeto.</p>
</li>
<li>
<p>Fork:</p>
<p>Um fork √© uma c√≥pia independente de um reposit√≥rio. √â √∫til para contribuir com projetos open-source, permitindo que voc√™ fa√ßa altera√ß√µes sem afetar o reposit√≥rio original.</p>
</li>
<li>
<p>Issues:</p>
<p>As issues s√£o usadas para rastrear bugs, melhorias ou novas funcionalidades. Elas ajudam a organizar o trabalho e a comunica√ß√£o entre os membros da equipe.</p>
</li>
<li>
<p>Tags:</p>
<p>As tags s√£o marcadores que voc√™ pode adicionar a commits espec√≠ficos. Elas s√£o √∫teis para identificar vers√µes importantes do seu projeto, como lan√ßamentos ou marcos significativos. S√£o usadas para versionamento sem√¢ntico, ou seja, para gerar releases.</p>
</li>
<li>
<p>Stash:</p>
<p>O stash √© um recurso que permite salvar temporariamente altera√ß√µes n√£o commitadas. √â √∫til quando voc√™ precisa mudar de branch rapidamente sem perder seu trabalho atual.</p>
</li>
<li>
<p>Rebase:</p>
<p>O rebase √© uma t√©cnica que permite integrar altera√ß√µes de uma branch em outra, reescrevendo o hist√≥rico de commits. Isso resulta em um hist√≥rico mais linear e limpo, facilitando a compreens√£o do projeto.</p>
</li>
<li>
<p>Clone:</p>
<p>O clone √© o processo de criar uma c√≥pia local de um reposit√≥rio remoto. Isso permite que voc√™ trabalhe offline e fa√ßa altera√ß√µes antes de enviar suas contribui√ß√µes de volta ao reposit√≥rio original.</p>
</li>
<li>
<p>Pull:</p>
<p>O pull √© o comando usado para baixar e integrar altera√ß√µes de um reposit√≥rio remoto para o seu reposit√≥rio local. √â essencial manter seu c√≥digo atualizado com as √∫ltimas mudan√ßas feitas por outros desenvolvedores.</p>
</li>
<li>
<p>Push:</p>
<p>O push √© o comando usado para enviar suas altera√ß√µes locais para um reposit√≥rio remoto. Isso garante que suas contribui√ß√µes sejam compartilhadas com a equipe e fiquem dispon√≠veis para revis√£o e integra√ß√£o.</p>
</li>
</ol>
<h2 id="102-conclus√£o"><a class="header" href="#102-conclus√£o">1.0.2. Conclus√£o</a></h2>
<p>S√£o muitos nomes e conceitos novos, n√£o √© mesmo? Mas n√£o se preocupe! Vamos explorar cada um deles em detalhes nos pr√≥ximos cap√≠tulos. O importante agora √© entender que o Git e o GitHub s√£o ferramentas poderosas que facilitam a colabora√ß√£o e o controle de vers√µes no desenvolvimento de software. Com eles, voc√™ estar√° pronto para enfrentar qualquer desafio em equipe!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cap√≠tulo-1--utilizando-git-e-github-1"><a class="header" href="#cap√≠tulo-1--utilizando-git-e-github-1">Cap√≠tulo 1 ‚Äì Utilizando Git e GitHub</a></h1>
<h2 id="11-principais-comandos-git-na-pr√°tica"><a class="header" href="#11-principais-comandos-git-na-pr√°tica">1.1 Principais comandos Git na pr√°tica</a></h2>
<p>Agora que voc√™ entendeu os conceitos b√°sicos na se√ß√£o 1.0, vamos ver na pr√°tica como usar cada um desses comando, e como eles se aplicam no dia a dia de um desenvolvedor.</p>
<h2 id="110-configura√ß√µes-iniciais"><a class="header" href="#110-configura√ß√µes-iniciais">1.1.0. Configura√ß√µes iniciais</a></h2>
<p>Antes de tudo, o Git precisa saber quem √© voc√™. Abra o terminal (Git Bash no Windows) e configure seu nome e e-mail:</p>
<pre><code class="language-bash">git config --global user.name "Seu Nome"
git config --global user.email "seu.email@dominio.com"
</code></pre>
<p>Isso garante que todo commit seja identificado corretamente no hist√≥rico.</p>
<h2 id="111-preparando-e-salvando-mudan√ßas"><a class="header" href="#111-preparando-e-salvando-mudan√ßas">1.1.1. Preparando e salvando mudan√ßas</a></h2>
<ol>
<li>
<p><strong>Staging (√°rea de preparo)</strong></p>
<ul>
<li>
<p>Com <code>git add</code> voc√™ diz ao Git quais arquivos devem entrar no pr√≥ximo commit:</p>
<pre><code class="language-bash">git add arquivo.txt        # adiciona um arquivo espec√≠fico
git add .                  # adiciona tudo que foi modificado
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Commit (checkpoint)</strong></p>
<ul>
<li>
<p>Cada commit √© um ponto de restaura√ß√£o. Use uma mensagem clara:</p>
<pre><code class="language-bash">git commit -m "feat(login): adicionado formulario de login"
</code></pre>
</li>
<li>
<p>Dica de boas pr√°ticas:</p>
<ul>
<li><code>feat(feature):</code> para novas funcionalidades</li>
<li><code>fix(fixed):</code> para corre√ß√µes</li>
<li><code>chore(chore):</code> para documenta√ß√£o</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Verificando o hist√≥rico</strong></p>
<ul>
<li>
<p>Veja os commits que voc√™ j√° fez:</p>
<pre><code class="language-bash">git log          # hist√≥rico completo
git log --oneline  # cada commit em uma linha
</code></pre>
</li>
</ul>
</li>
</ol>
<h2 id="112-branches-e-fus√µes"><a class="header" href="#112-branches-e-fus√µes">1.1.2. Branches e fus√µes</a></h2>
<ol>
<li>
<p><strong>Criar/alternar branches</strong></p>
<pre><code class="language-bash">git checkout -b nome-da-branch    # cria e vai para a nova branch
git checkout main                 # volta para a branch principal
</code></pre>
</li>
<li>
<p><strong>Lista de branches</strong></p>
<pre><code class="language-bash">git branch    # mostra todas as branches locais
</code></pre>
</li>
<li>
<p><strong>Merge (uni√£o de branches)</strong></p>
<ul>
<li>Suponha que sua branch de recurso seja <code>feature-x</code> e voc√™ queira traz√™-la para <code>main</code>:
<pre><code class="language-bash">git checkout main
git merge feature-x
</code></pre>
</li>
</ul>
</li>
<li>
<p><strong>Excluir branch</strong></p>
<pre><code class="language-bash">git branch -d feature-x
</code></pre>
</li>
</ol>
<h2 id="113-trabalhando-com-reposit√≥rio-remoto"><a class="header" href="#113-trabalhando-com-reposit√≥rio-remoto">1.1.3. Trabalhando com reposit√≥rio remoto</a></h2>
<ol>
<li>
<p><strong>Clonar um projeto</strong></p>
<pre><code class="language-bash">git clone https://github.com/usuario/repositorio.git
</code></pre>
</li>
<li>
<p><strong>Conectar remote (se n√£o veio no clone)</strong></p>
<pre><code class="language-bash">git remote add origin https://github.com/usuario/repositorio.git
</code></pre>
</li>
<li>
<p><strong>Enviar altera√ß√µes</strong></p>
<pre><code class="language-bash">git push -u origin main   # envia sua branch e define upstream
git push                  # nas pr√≥ximas vezes s√≥ git push
</code></pre>
</li>
<li>
<p><strong>Atualizar seu reposit√≥rio local</strong></p>
<pre><code class="language-bash">git pull   # baixa e integra mudan√ßas do servidor
</code></pre>
</li>
</ol>
<blockquote>
<p><strong>üö® Sempre fa√ßa um <code>git pull</code> antes de um <code>git push</code> para evitar conflitos</strong></p>
</blockquote>
<h2 id="114-dicas-avan√ßadas-em-caso-de-problemas"><a class="header" href="#114-dicas-avan√ßadas-em-caso-de-problemas">1.1.4. Dicas avan√ßadas em caso de problemas</a></h2>
<ul>
<li>
<p><strong>git revert</strong>: desfazer um commit espec√≠fico</p>
<pre><code class="language-bash">git revert &lt;hash-do-commit&gt;
</code></pre>
</li>
<li>
<p><strong>git cherry-pick</strong>: aplicar um commit espec√≠fico em outra branch</p>
<pre><code class="language-bash">git cherry-pick &lt;hash-do-commit&gt;
</code></pre>
</li>
<li>
<p><strong>git rebase</strong>: reescrever o hist√≥rico de commits (cuidado!)</p>
<pre><code class="language-bash">git rebase main
</code></pre>
</li>
<li>
<p><strong>git merge --abort</strong>: cancelar um merge em andamento</p>
<pre><code class="language-bash">git merge --abort
</code></pre>
</li>
<li>
<p><strong>git reset --hard</strong>: voltar a um commit anterior (cuidado!)</p>
<pre><code class="language-bash">git reset --hard &lt;hash-do-commit&gt;
</code></pre>
</li>
<li>
<p><strong>git stash</strong>: guarde mudan√ßas temporariamente, para n√£o ter que fazer commit delas</p>
<pre><code class="language-bash">git stash save "minha altera√ß√£o em andamento"
git stash pop    # recupera a altera√ß√£o
</code></pre>
</li>
</ul>
<h2 id="115-conclus√£o"><a class="header" href="#115-conclus√£o">1.1.5. Conclus√£o</a></h2>
<p>Com este resumo pr√°tico, voc√™ tem o passo a passo para controlar vers√µes, trabalhar em equipe e manter seu projeto organizado, al√©m de conseguir evitar problemas de git comuns. No pr√≥ximo cap√≠tulo, vamos explorar somente sobre os conceitos de Pull Request e Code Review que citamos na se√ß√£o anterior.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cap√≠tulo-1--utilizando-git-e-github-2"><a class="header" href="#cap√≠tulo-1--utilizando-git-e-github-2">Cap√≠tulo 1 ‚Äì Utilizando Git e GitHub</a></h1>
<h2 id="refer√™ncias-do-cap√≠tulo"><a class="header" href="#refer√™ncias-do-cap√≠tulo">Refer√™ncias do cap√≠tulo:</a></h2>
<ul>
<li>
<p><a href="https://docs.github.com/pt/get-started/quickstart">GitHub Docs: Getting started with Git</a></p>
</li>
<li>
<p><a href="https://docs.github.com/pt/get-started/using-github/github-flow">GitHub Docs: GitHub Flow</a></p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cap√≠tulo-2--code-review-e-pull-request-no-github"><a class="header" href="#cap√≠tulo-2--code-review-e-pull-request-no-github">Cap√≠tulo 2 ‚Äì Code Review e Pull Request no GitHub</a></h1>
<p>Voc√™ j√° teve medo de subir seu c√≥digo para o reposit√≥rio da sua equipe e quebrar tudo? Ou de fazer uma altera√ß√£o e n√£o saber se ela est√° correta? N√£o se preocupe, isso √© normal no in√≠cio! A revis√£o de c√≥digo (Code Review) e os Pull Requests (PRs) s√£o ferramentas que v√£o te ajudar a evitar esses medos e garantem que seu c√≥digo esteja sempre em boas m√£os.</p>
<p>Na Engenharia de Software, a colabora√ß√£o entre desenvolvedores √© essencial para garantir qualidade e evolu√ß√£o cont√≠nua dos projetos em ambientes corporativos e comunidades open-source.</p>
<p>Imagine que cada PR √© um convite para discutir: voc√™ envia seu c√≥digo, colegas comentam, sugerem ajustes e, quando tudo est√° aprovado, a gente faz o merge. Esse fluxo simples evita bugs, alinha estilos e cria um hist√≥rico rico para consultas futuras.</p>
<p>Ao final deste cap√≠tulo, voc√™ vai se sentir confiante para revisar e submeter seu c√≥digo de forma colaborativa, pois exploraremos em detalhes o que √© um Code Review, como realiz√°-lo de forma eficaz no GitHub, o conceito de Pull Request, o passo a passo para criar um PR e as principais ferramentas que auxiliam nesse processo.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cap√≠tulo-2--code-review-e-pull-request-no-github-1"><a class="header" href="#cap√≠tulo-2--code-review-e-pull-request-no-github-1">Cap√≠tulo 2 ‚Äì Code Review e Pull Request no GitHub</a></h1>
<h2 id="21-afinal-o-que-√©-pull-request"><a class="header" href="#21-afinal-o-que-√©-pull-request">2.1. Afinal, o que √© Pull Request?</a></h2>
<p>O Pull Request (PR) √© um recurso amplamente utilizado em plataformas de controle de vers√£o, como GitHub e GitLab, permitindo que desenvolvedores solicitem a integra√ß√£o de suas altera√ß√µes ao reposit√≥rio principal. Ele facilita a colabora√ß√£o e o gerenciamento de mudan√ßas no c√≥digo, permitindo que diferentes membros da equipe revisem, comentem e aprovem as altera√ß√µes antes que elas sejam mescladas ao projeto principal.</p>
<h2 id="210-como-funciona-um-pull-request"><a class="header" href="#210-como-funciona-um-pull-request">2.1.0. Como funciona um Pull Request?</a></h2>
<p>Vamos por partes:</p>
<ol>
<li>
<p>Cria√ß√£o da branch:</p>
<p>Primeiramente o desenvolvedor cria uma branch nova para desenvolver a funcionalidade. Assim, seu trabalho fica isolado e n√£o afetar√° o c√≥digo da branch principal.</p>
</li>
<li>
<p>Abertura de Pull Request:</p>
<p>Ap√≥s concluir as altera√ß√µes, o desenvolvedor cria um Pull Request (PR) no reposit√≥rio remoto, no nosso caso o GitHub. Este PR notifica √† equipe sobre as mudan√ßas feitas e solicita uma revis√£o antes que as altera√ß√µes sejam integradas √† branch de destino, geralmente um branch mais est√°vel, como "main" ou "develop".</p>
</li>
</ol>
<p>Na pr√≥xima se√ß√£o, vamos ver como submeter um Pull Request no GitHub.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cap√≠tulo-2--code-review-e-pull-request-no-github-2"><a class="header" href="#cap√≠tulo-2--code-review-e-pull-request-no-github-2">Cap√≠tulo 2 ‚Äì Code Review e Pull Request no GitHub</a></h1>
<h2 id="22-criando-um-pull-request-no-github"><a class="header" href="#22-criando-um-pull-request-no-github">2.2. Criando um Pull Request no GitHub</a></h2>
<h2 id="220-passos-a-seguir"><a class="header" href="#220-passos-a-seguir">2.2.0. Passos a seguir</a></h2>
<p>Caso voc√™ tenha conclu√≠do as altera√ß√µes necess√°rias em uma branch separada, siga os passos abaixo para criar seu Pull Request:</p>
<h3 id="1-push-das-altera√ß√µes"><a class="header" href="#1-push-das-altera√ß√µes">1. Push das altera√ß√µes:</a></h3>
<p>No seu terminal, certifique-se de que tudo est√° salvo e testado, e depois:</p>
<pre><code class="language-bash"># 1. Adicione tudo √† √°rea de stage
$ git add .

# 2. Fa√ßa o commit com mensagem clara e assinada
$ git commit -S -m "descreva sucintamente o que mudou"

# 3. Envie sua branch ao GitHub
$ git push origin &lt;nome-da-sua-branch&gt;
</code></pre>
<h3 id="2-crie-o-pr-no-reposit√≥rio-remoto"><a class="header" href="#2-crie-o-pr-no-reposit√≥rio-remoto">2. Crie o PR no reposit√≥rio remoto:</a></h3>
<p><img src="imgs/repo.png" alt="repo" />
<em>Acesse a p√°gina do seu reposit√≥rio no GitHub e Selecione a op√ß√£o "Pull requests" ou apenas clique em "compare &amp; pull request caso a branch que acabou de fazer push seja a mesma que deseja incluir no PR"</em></p>
<p><img src="imgs/novo-pr.png" alt="novo-pr" /></p>
<p><img src="imgs/branchs.png" alt="branchs" />
<em>Escolha as branchs de origem e destino (geralmente o destino √© main ou develop) e revise as altera√ß√µes</em></p>
<p><img src="imgs/create-pr.png" alt="gerando-pr" />
<em>Adicione um t√≠tulo e uma descri√ß√£o das altera√ß√µes feitas para facilitar o code review</em></p>
<p><img src="imgs/confirm-create.png" alt="confirmando-pr" />
<em>Verifique se as branch de origem e destinop est√£o "able to merge", se sim confirme em "create pull request" se n√£o volte √† sua IDE e resolva o(s) conflito(s) de merge</em></p>
<h3 id="3-revis√£o-do-pr"><a class="header" href="#3-revis√£o-do-pr">3. Revis√£o do PR</a></h3>
<p><img src="imgs/comment-pr.png" alt="comentando-pr" />
<em>Ap√≥s verificar as altera√ß√µes feitas em cada commit do PR adicione seus coment√°rios</em></p>
<p><img src="imgs/confirm-merge.png" alt="confirme-merge" />
<em>Caso tenha passado no Code Review e esteja "Able to merge" confime o merge</em></p>
<h2 id="221-boas-pr√°ticas"><a class="header" href="#221-boas-pr√°ticas">2.2.1. Boas pr√°ticas</a></h2>
<ul>
<li>
<p>Testes Automatizados:</p>
<p>Inclua testes automatizados em uma pipeline de CI (Continous Integration), para evitar bugs em produ√ß√£o. Para isso existem ferramentas como GitHub actions, jenkins e entre outras.</p>
</li>
<li>
<p>Feedback Construtivo:</p>
<p>Seja claro e direto nos feedbacks, destaque o que pode melhorar e o que foi bem feito.</p>
</li>
<li>
<p>Relacionar PRs a issues:</p>
<p>Caso o PR seja a resolu√ß√£o de uma issue, destaque que h√° esta rela√ß√£o no titulo do PR, ex.: Resolves #123</p>
</li>
</ul>
<h2 id="222-dicas-para-evitar-conflitos-de-merge"><a class="header" href="#222-dicas-para-evitar-conflitos-de-merge">2.2.2. Dicas para evitar conflitos de merge</a></h2>
<ul>
<li>Antes de criar um PR, certifique-se de que sua branch est√° atualizada com a branch de destino</li>
</ul>
<pre><code class="language-bash">$ git pull origin &lt;branch-de-destino&gt;
</code></pre>
<ul>
<li>Se houver conflitos de merge, resolva-os em sua m√°quina antes de enviar o PR. Use ferramentas como git mergetool para facilitar o processo.</li>
</ul>
<h2 id="223-conclus√£o"><a class="header" href="#223-conclus√£o">2.2.3. Conclus√£o</a></h2>
<p>Com esses passos voc√™ mant√©m o fluxo de colabora√ß√£o limpo, organizado e todo mundo sai ganhando. Bom PR!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cap√≠tulo-2--code-review-e-pull-request-no-github-3"><a class="header" href="#cap√≠tulo-2--code-review-e-pull-request-no-github-3">Cap√≠tulo 2 ‚Äì Code Review e Pull Request no GitHub</a></h1>
<h2 id="23-code-review"><a class="header" href="#23-code-review">2.3. Code Review</a></h2>
<p>Como falado anteriormente, a revis√£o de c√≥digo (Code Review) √© uma pr√°tica essencial no desenvolvimento de software, onde um programador revisa o c√≥digo escrito por outro antes de sua incorpora√ß√£o ao projeto. O objetivo desse processo √© garantir que o c√≥digo esteja bem estruturado, livre de erros e alinhado com as boas pr√°ticas da equipe.</p>
<h2 id="230-por-que-a-revis√£o-de-c√≥digo-√©-importante"><a class="header" href="#230-por-que-a-revis√£o-de-c√≥digo-√©-importante">2.3.0. Por que a revis√£o de c√≥digo √© importante?</a></h2>
<ul>
<li><strong>Identifica problemas:</strong> Permite encontrar falhas e corrigir bugs antes que o c√≥digo seja implantado.</li>
<li><strong>Melhora a qualidade:</strong> Mant√©m o c√≥digo organizado e em conformidade com os padr√µes da equipe.</li>
<li><strong>Facilita a troca de conhecimento:</strong> Desenvolvedores compartilham experi√™ncias e aprimoram suas habilidades.</li>
<li><strong>Garante padroniza√ß√£o:</strong> Seguir um estilo consistente facilita a manuten√ß√£o do sistema.</li>
<li><strong>Promove aprimoramento cont√≠nuo:</strong> O feedback recebido contribui para o crescimento dos programadores.</li>
</ul>
<h2 id="231-como-nossa-equipe-pode-revisar-o-c√≥digo"><a class="header" href="#231-como-nossa-equipe-pode-revisar-o-c√≥digo">2.3.1. Como nossa equipe pode revisar o c√≥digo?</a></h2>
<p>N√£o existe um √∫nico jeito ‚Äúcerto‚Äù, cada time adota o que funciona melhor. Veja algumas abordagens:</p>
<ul>
<li>
<p><strong>Parceria entre colegas</strong><br />
Dois desenvolvedores revisam o c√≥digo mutuamente. Um escreve, o outro sugere melhorias na sequ√™ncia.</p>
</li>
<li>
<p><strong>Revis√£o r√°pida e informal</strong><br />
Uma olhada r√°pida, sem checklist r√≠gido. Ideal para mudan√ßas menores.</p>
</li>
<li>
<p><strong>Revis√£o estruturada</strong><br />
Segue um passo a passo bem definido: checklist, testes, documenta√ß√£o do feedback. Perfeita para entregas cr√≠ticas.</p>
</li>
</ul>
<p>√â importante combinar com o time quando usar cada m√©todo.</p>
<h2 id="232-conclus√£o"><a class="header" href="#232-conclus√£o">2.3.2. Conclus√£o</a></h2>
<p>A revis√£o de c√≥digo √© essencial para o desenvolvimento de software est√°vel, ela melhora a qualidade do c√≥digo, promove a troca de conhecimento e garante que o projeto siga as melhores pr√°ticas. Neste guia, vamos explorar usando somente o GitHub, mas os conceitos s√£o aplic√°veis a qualquer ferramenta de controle de vers√£o.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cap√≠tulo-2--code-review-e-pull-request-no-github-4"><a class="header" href="#cap√≠tulo-2--code-review-e-pull-request-no-github-4">Cap√≠tulo 2 ‚Äì Code Review e Pull Request no GitHub</a></h1>
<h2 id="24-como-realizar-um-code-review-eficaz-no-github"><a class="header" href="#24-como-realizar-um-code-review-eficaz-no-github">2.4. Como realizar um Code Review eficaz no GitHub</a></h2>
<p>Revisar um Pull Request (PR) pode parecer complicado, mas enxergue isso como uma conversa entre desenvolvedores. Aqui v√£o dicas para tornar esse bate-papo mais fluido e produtivo.</p>
<h3 id="1-antes-de-come√ßar-entenda-o-contexto"><a class="header" href="#1-antes-de-come√ßar-entenda-o-contexto">1. Antes de Come√ßar, Entenda o Contexto</a></h3>
<p>Antes de revisar um PR:</p>
<ul>
<li>Leia a descri√ß√£o do PR com calma. Veja links para issues, requisitos ou documenta√ß√£o.</li>
<li>Navegue pelo reposit√≥rio para entender o impacto das altera√ß√µes.</li>
</ul>
<p>Assim voc√™ evita surpresas e ganha confian√ßa no que vai revisar.</p>
<h3 id="2-aproveite-as-ferramentas-do-github"><a class="header" href="#2-aproveite-as-ferramentas-do-github">2. Aproveite as Ferramentas do GitHub</a></h3>
<p>O GitHub oferece recursos que facilitam a sua vida:</p>
<ul>
<li>Compara√ß√£o de branches, que mostra as diferen√ßas entre o c√≥digo atual e o novo.</li>
<li>Visualiza√ß√£o de commits, que te ajuda a entender a evolu√ß√£o do c√≥digo ajuda a captar o racioc√≠nio do autor.</li>
<li>Hist√≥rico de commits, facilita a compreens√£o das altera√ß√µes feitas.</li>
</ul>
<h3 id="3-o-que-observar-durante-a-revis√£o"><a class="header" href="#3-o-que-observar-durante-a-revis√£o">3. O Que Observar Durante a Revis√£o</a></h3>
<p>Enquanto percorre as mudan√ßas, pergunte-se:</p>
<ol>
<li>A funcionalidade aborda o problema proposto?</li>
<li>A funcionalidade foi desenvolvida seguindo as regras de neg√≥cio definida?</li>
<li>Estamos seguindo os padr√µes de estilo do time?</li>
<li>H√° testes cobrindo a nova l√≥gica e todos passam?</li>
<li>Algum ponto impacta performance ou seguran√ßa?</li>
</ol>
<h3 id="4-d√™-um-feedback-construtivo"><a class="header" href="#4-d√™-um-feedback-construtivo">4. D√™ um Feedback Construtivo</a></h3>
<ul>
<li>Seja claro e direto: Em vez de "isto est√° errado", explique e sugira solu√ß√µes.</li>
<li>Evite cr√≠ticas pessoais: O foco √© no c√≥digo, n√£o no autor.</li>
<li>Reconhe√ßa boas solu√ß√µes: Valorizar boas pr√°ticas motiva a equipe.</li>
</ul>
<h3 id="5-trabalhe-em-equipe"><a class="header" href="#5-trabalhe-em-equipe">5. Trabalhe em Equipe</a></h3>
<ul>
<li>Marque outros desenvolvedores com <code>@usu√°rio</code> quando precisar de uma segunda opini√£o.</li>
<li>Seja flex√≠vel, pois n√£o existe uma √∫nica maneira correta de escrever c√≥digo.</li>
</ul>
<h3 id="6-s√≥-aprove-quando-tudo-estiver-correto"><a class="header" href="#6-s√≥-aprove-quando-tudo-estiver-correto">6. S√≥ Aprove Quando Tudo Estiver Correto</a></h3>
<p>Antes de clicar em <strong>Merge pull request</strong>:</p>
<ul>
<li>Garanta que todos os pontos levantados foram resolvidos.</li>
<li>Verifique se testes, documenta√ß√£o e depend√™ncias est√£o atualizados.</li>
<li>Se ainda faltar algo, pe√ßa ajustes espec√≠ficos em vez de reprovar tudo.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cap√≠tulo-2--code-review-e-pull-request-no-github-5"><a class="header" href="#cap√≠tulo-2--code-review-e-pull-request-no-github-5">Cap√≠tulo 2 ‚Äì Code Review e Pull Request no GitHub</a></h1>
<h2 id="refer√™ncias-do-cap√≠tulo-1"><a class="header" href="#refer√™ncias-do-cap√≠tulo-1">Refer√™ncias do Cap√≠tulo:</a></h2>
<ul>
<li>
<p><a href="https://www.knowsolution.com.br/code-review-importancia-fazer-revisao/">Code Review</a></p>
</li>
<li>
<p><a href="https://docs.github.com/pt/pull-requests">Pull Requests</a></p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cap√≠tulo-3---aplicando-o-gitflow-no-git-e-github-com-html-e-css"><a class="header" href="#cap√≠tulo-3---aplicando-o-gitflow-no-git-e-github-com-html-e-css">Cap√≠tulo 3 - Aplicando o GitFlow no Git e GitHub com html e css</a></h1>
<p>Neste cap√≠tulo, vamos dar in√≠cio √† nossa rede social ‚ÄúConex‚Äù usando apenas HTML e CSS. Ao longo dos cap√≠tulos deste guia,transformaremos essa rede social, at√© ent√£o, est√°tica em uma aplica√ß√£o funcional, seguindo as boas pr√°ticas de desenvolvimento web com PHP, JS, HTML e CSS. Mas afinal, o que s√£o HTML e CSS?</p>
<h2 id="300-html---hyper-text-markup-language"><a class="header" href="#300-html---hyper-text-markup-language">3.0.0 HTML - Hyper Text Markup Language</a></h2>
<p>HTML √© como o "esqueleto" de qualquer p√°gina web. Ele define a estrutura e o conte√∫do de um site, permitindo a cria√ß√£o de elementos como par√°grafos, links, imagens, listas e muito mais. A cria√ß√£o destes elementos √© feita apartir de tags (marca√ß√µes de hiper-texto) que s√£o interpretados pelo browser.</p>
<p>Quando voc√™ digita uma URL (https://www.conex.com) no navegador (cliente), ele inicia uma comunica√ß√£o com o servidor onde este site est√° hospedado. Essa comunica√ß√£o √© feita usando o protocolo HTTP (HyperText Transfer Protocol) ou sua vers√£o com criptografia SSL (HTTPS).</p>
<p>Requisi√ß√£o (Request): O navegador envia uma requisi√ß√£o HTTP (verbo GET) ao servidor, solicitando o recurso, neste caso, uma p√°gina HTML.</p>
<p>Resposta (Response): O servidor processa a requisi√ß√£o e envia uma resposta HTTP de volta ao browser. Essa resposta cont√©m o c√≥digo HTML da p√°gina, al√©m de outros recursos como CSS, JavaScript, imgs, etc.</p>
<blockquote>
<p><strong>üö® No t08-mvc abordaremos de maneira pr√°tica a arquitetura request/response na comunica√ß√£o entre clientes e servidores</strong></p>
</blockquote>
<h2 id="301-css---cascading-style-sheets"><a class="header" href="#301-css---cascading-style-sheets">3.0.1 CSS - Cascading Style Sheets</a></h2>
<p>CSS √© respons√°vel pela apresenta√ß√£o e estilo dos elementos HTML. Ele permite definir cores, fontes, tamanhos, layouts e outros aspectos visuais, garantindo que o site tenha uma apar√™ncia agrad√°vel ao usu√°rio final.</p>
<p>O CSS funciona atrav√©s de seletores e propriedades. Um seletor √© usado para selecionar os elementos HTML que voc√™ deseja estilizar, e as propriedades definem como esses elementos devem ser estilizados.</p>
<p>Por exemplo, voc√™ pode usar um seletor para selecionar todos os par√°grafos (<code>&lt;p&gt;</code>) em uma p√°gina e aplicar uma cor de texto e um tamanho de fonte espec√≠ficos a eles.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="31-o-que-√©-o-gitflow"><a class="header" href="#31-o-que-√©-o-gitflow">3.1 O que √© o <a href="https://gist.github.com/paulo-raoni/1a8f52138f67fd40379f454ee61aa4ce">GitFlow</a>?</a></h1>
<p>O <strong>GitFlow</strong> √© uma estrat√©gia de ramifica√ß√£o (<em>branching</em>) para gerenciar o desenvolvimento de projetos de software utilizando o <strong>Git</strong>. Criado por <strong>Vincent Driessen</strong>, o GitFlow organiza o processo de desenvolvimento em diferentes tipos de branches, o que facilita a colabora√ß√£o entre equipes e o controle de vers√µes. Ele define um conjunto de regras que especifica quando e como criar novas branches para diferentes tarefas, como desenvolvimento de novas funcionalidades, corre√ß√µes de bugs e lan√ßamentos de vers√µes.</p>
<h2 id="310-estrutura-do-gitflow"><a class="header" href="#310-estrutura-do-gitflow">3.1.0 Estrutura do GitFlow</a></h2>
<p>A estrutura do GitFlow √© composta principalmente por cinco tipos de branches:</p>
<h3 id="1-master-ou-main"><a class="header" href="#1-master-ou-main">1. <strong>master (ou main)</strong></a></h3>
<p>Cont√©m o c√≥digo est√°vel e pronto para ser lan√ßado em produ√ß√£o. Cada commit neste branch representa uma vers√£o est√°vel do projeto.</p>
<h3 id="2-develop"><a class="header" href="#2-develop">2. <strong>develop</strong></a></h3>
<p>Serve como o branch principal de desenvolvimento, onde as novas funcionalidades s√£o integradas antes de serem liberadas para produ√ß√£o. O c√≥digo no <code>develop</code> pode n√£o ser 100% est√°vel, mas deve estar funcional para testes.</p>
<h3 id="3-feature"><a class="header" href="#3-feature">3. <strong>feature</strong></a></h3>
<p>Criado a partir do <code>develop</code> para o desenvolvimento de novas funcionalidades. Cada funcionalidade tem seu pr√≥prio branch <code>feature</code>, o que facilita o trabalho isolado e sem impacto no c√≥digo principal.</p>
<h3 id="4-release"><a class="header" href="#4-release">4. <strong>release</strong></a></h3>
<p>Utilizado para preparar o c√≥digo para uma nova vers√£o est√°vel. O branch <code>release</code> √© criado a partir do <code>develop</code> e √© onde os √∫ltimos ajustes, testes e corre√ß√µes de bugs s√£o feitos antes do lan√ßamento.</p>
<h3 id="5-hotfix"><a class="header" href="#5-hotfix">5. <strong>hotfix</strong></a></h3>
<p>Criado a partir da <code>main</code> quando √© necess√°rio corrigir um problema cr√≠tico em produ√ß√£o. Depois de corrigido, o <code>hotfix</code> √© mesclado tanto na <code>main</code> quanto no <code>develop</code> para garantir que a corre√ß√£o seja aplicada a ambas as vers√µes.</p>
<h2 id="311-benef√≠cios-do-gitflow"><a class="header" href="#311-benef√≠cios-do-gitflow">3.1.1 Benef√≠cios do GitFlow</a></h2>
<p>A aplica√ß√£o do GitFlow ajuda equipes a gerenciar o ciclo de vida do desenvolvimento de forma mais estruturada, evitando problemas de integra√ß√£o e facilitando o controle de vers√µes.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="como-implementar-o-gitflow-no-git-e-github-somente-para-windows"><a class="header" href="#como-implementar-o-gitflow-no-git-e-github-somente-para-windows">Como Implementar o <a href="https://gist.github.com/paulo-raoni/1a8f52138f67fd40379f454ee61aa4ce">GitFlow</a> no Git e GitHub (Somente para Windows)</a></h1>
<p>Para implementar o GitFlow no Windows, voc√™ precisa seguir alguns passos espec√≠ficos, desde a instala√ß√£o do GitFlow at√© a configura√ß√£o e uso em seu reposit√≥rio Git. A seguir, explicamos como realizar isso:</p>
<h3 id="1-instalando-o-git-no-windows"><a class="header" href="#1-instalando-o-git-no-windows">1. Instalando o Git no Windows</a></h3>
<p>Caso ainda n√£o tenha o Git instalado, o primeiro passo √© baixar e instalar o Git para Windows. Acesse o <a href="https://git-scm.com/downloads/win">site oficial</a> do Git e baixe a vers√£o mais recente. Durante a instala√ß√£o, √© importante selecionar a op√ß√£o para adicionar o Git ao PATH, para que voc√™ possa us√°-lo diretamente no terminal do Windows.</p>
<h3 id="2-instalando-o-gitflow-no-windows"><a class="header" href="#2-instalando-o-gitflow-no-windows">2. Instalando o GitFlow no Windows</a></h3>
<p>O GitFlow n√£o √© instalado automaticamente com o Git para Windows. Para instalar o GitFlow no Windows, siga os passos abaixo:</p>
<ol>
<li>
<p><strong>Baixe o GitFlow para Windows:</strong> A maneira mais simples de instalar o GitFlow no Windows √© utilizando o Git Bash, que j√° vem com o Git para Windows.</p>
</li>
<li>
<p><strong>Baixar e instalar o GitFlow:</strong> No Git Bash, execute o comando para instalar o GitFlow:</p>
</li>
</ol>
<ul>
<li>Abra o Git Bash no seu computador.</li>
<li>Execute o seguinte comando para baixar e instalar o GitFlow:</li>
</ul>
<pre><code>git clone https://github.com/nvie/gitflow.git
cd gitflow
make install
</code></pre>
<h3 id="3-inicializando-o-gitflow"><a class="header" href="#3-inicializando-o-gitflow">3. Inicializando o GitFlow</a></h3>
<p>Ap√≥s a instala√ß√£o do GitFlow, voc√™ precisa inicializar o GitFlow em seu reposit√≥rio Git. Para isso:</p>
<ol>
<li>No Git Bash, navegue at√© a pasta do seu projeto, onde o reposit√≥rio Git est√° localizado. Se voc√™ ainda n√£o inicializou o reposit√≥rio, execute:</li>
</ol>
<pre><code>git init
</code></pre>
<ol start="2">
<li>Agora, inicialize o GitFlow com o comando:</li>
</ol>
<pre><code>git flow init
</code></pre>
<p>Voc√™ ser√° solicitado a configurar os nomes dos branches. As op√ß√µes padr√£o s√£o:</p>
<ul>
<li>Branch principal: <code>master</code> (ou <code>main</code>)</li>
<li>Branch de desenvolvimento: <code>develop</code></li>
</ul>
<p>Pressione Enter para aceitar as configura√ß√µes padr√£o ou insira seus pr√≥prios nomes de branches, se desejar.</p>
<h3 id="4-criando-branches-de-funcionalidades-feature"><a class="header" href="#4-criando-branches-de-funcionalidades-feature">4. Criando Branches de Funcionalidades (<code>feature</code>)</a></h3>
<p>Ap√≥s a configura√ß√£o inicial, voc√™ pode come√ßar a criar branches de funcionalidades (feature). Para iniciar o desenvolvimento de uma nova funcionalidade, use o seguinte comando:</p>
<pre><code>git flow feature start nome-da-feature
</code></pre>
<p>Isso criar√° um novo branch feature/nome-da-feature baseado no develop. Quando a funcionalidade estiver conclu√≠da, finalize o branch com:</p>
<pre><code>git flow feature finish nome-da-feature
</code></pre>
<p>Isso mesclar√° o branch de funcionalidade de volta ao develop e excluir√° o branch feature.</p>
<h3 id="5-criando-branches-de-lan√ßamento-release"><a class="header" href="#5-criando-branches-de-lan√ßamento-release">5. Criando Branches de Lan√ßamento (<code>release</code>)</a></h3>
<p>Quando as funcionalidades estiverem prontas para serem lan√ßadas, crie um branch release a partir do develop com:</p>
<pre><code>git flow release start v1.0.0
</code></pre>
<p>Esse comando criar√° um branch release/v1.0.0. Ap√≥s realizar os ajustes finais, finalize o release com:</p>
<pre><code>git flow release finish v1.0.0
</code></pre>
<p>Isso mesclar√° o <code>release</code> tanto na <code>main</code> quanto no <code>develop</code>, criando uma nova vers√£o est√°vel na <code>main</code> e excluindo o branch <code>release</code>.</p>
<h3 id="6-criando-branches-de-corre√ß√£o-hotfix"><a class="header" href="#6-criando-branches-de-corre√ß√£o-hotfix">6. Criando Branches de Corre√ß√£o (<code>hotfix</code>)</a></h3>
<p>Se houver um bug cr√≠tico em produ√ß√£o, voc√™ pode criar um branch <code>hotfix</code> a partir da <code>main</code>:</p>
<pre><code>git flow hotfix start v1.0.1
</code></pre>
<p>Ap√≥s corrigir o problema, finalize o hotfix com:</p>
<pre><code>git flow hotfix finish v1.0.1
</code></pre>
<p>Isso mesclar√° o <code>hotfix</code> de volta na <code>main</code> e no <code>develop</code>, garantindo que a corre√ß√£o seja aplicada a ambas as vers√µes.</p>
<h3 id="7-subindo-as-altera√ß√µes-para-o-github"><a class="header" href="#7-subindo-as-altera√ß√µes-para-o-github">7. Subindo as Altera√ß√µes para o GitHub</a></h3>
<p>Sempre que voc√™ criar ou finalizar um branch de funcionalidade, release ou hotfix, √© importante enviar suas altera√ß√µes para o reposit√≥rio remoto no GitHub. Para isso, use os seguintes comandos:</p>
<ol>
<li>Para o branch <code>main</code> e <code>develop</code>:</li>
</ol>
<pre><code>git push origin main
git push origin develop
</code></pre>
<ol start="2">
<li>Para branches <code>feature</code>, <code>releas</code> ou <code>hotfix</code>, use:</li>
</ol>
<pre><code>git push origin feature/nome-da-feature
git push origin release/v1.0.0
git push origin hotfix/v1.0.1
</code></pre>
<h3 id="8-gerenciando-pull-requests-no-github"><a class="header" href="#8-gerenciando-pull-requests-no-github">8. Gerenciando Pull Requests no GitHub</a></h3>
<p>Ao trabalhar com o GitFlow, √© uma boa pr√°tica criar Pull Requests (PRs) no GitHub para integrar as mudan√ßas dos branches <code>feature</code>, <code>release</code> e <code>hotfix</code> ao <code>develop</code> ou <code>main</code>. Isso ajuda a revisar o c√≥digo e garantir que as altera√ß√µes sejam bem integradas.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="aplicando-o-gitflow-em-um-projeto-com-html-e-css"><a class="header" href="#aplicando-o-gitflow-em-um-projeto-com-html-e-css">Aplicando o <a href="https://gist.github.com/paulo-raoni/1a8f52138f67fd40379f454ee61aa4ce">GitFlow</a> em um projeto com HTML e CSS</a></h1>
<p>Aplicar o GitFlow em um projeto com HTML e CSS segue a mesma l√≥gica que em outros projetos de desenvolvimento.</p>
<h2 id="passos-para-aplicar-o-gitflow"><a class="header" href="#passos-para-aplicar-o-gitflow">Passos para Aplicar o GitFlow:</a></h2>
<h3 id="1-inicialize-o-reposit√≥rio-git"><a class="header" href="#1-inicialize-o-reposit√≥rio-git">1. Inicialize o Reposit√≥rio Git</a></h3>
<pre><code>git init
</code></pre>
<h3 id="2-crie-e-defina-a-branch-develop"><a class="header" href="#2-crie-e-defina-a-branch-develop">2. Crie e Defina a Branch <code>develop</code></a></h3>
<pre><code>git checkout -b develop
git push -u origin develop
</code></pre>
<h3 id="3-cria√ß√£o-de-features"><a class="header" href="#3-cria√ß√£o-de-features">3. Cria√ß√£o de Features</a></h3>
<p>Para cada nova funcionalidade (exemplo: um novo componente HTML/CSS), crie uma branch baseada em <code>develop</code>:</p>
<pre><code>git checkout -b feature/nova-funcionalidades
</code></pre>
<h3 id="4-desenvolvendo-a-feature-exemplo"><a class="header" href="#4-desenvolvendo-a-feature-exemplo">4. Desenvolvendo a feature (<em>exemplo</em>)</a></h3>
<ul>
<li>
<p>Estrutura do projeto</p>
<p><img src="imgs/Estrutura%20dos%20arquivo%20t03-html-css.png" alt="repo" /></p>
<p>Na pasta <code>img</code> est√£o armazenadas todas as imagens utilizadas nesta etapa. Na pasta <code>view</code>, h√° duas subpastas: uma para os arquivos <code>CSS</code> e outra para os arquivos <code>HTML</code> (<em>que est√£o no formato PHP devido a uma propriedade espec√≠fica que estamos utilizando</em>).</p>
</li>
<li>
<p>Exemplo de c√≥digo HTML (<em>arquivo <code>home.php</code></em>)</p>
</li>
</ul>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="pt-br"&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8" /&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0" /&gt;
    &lt;title&gt;P√°gina Principal&lt;/title&gt;
    &lt;link rel="stylesheet" href="../css/home.css" /&gt;
  &lt;/head&gt;

  &lt;body&gt;
    &lt;!-- Barra Lateral --&gt;
    &lt;?php include __DIR__ . '/side-bar.php'; ?&gt;

    &lt;!-- Conte√∫do Principal --&gt;
    &lt;main class="container"&gt;
      &lt;!-- Se√ß√£o de Posts --&gt;
      &lt;section class="feed"&gt;
        &lt;article class="post"&gt;
          &lt;header class="user-info"&gt;
            &lt;div class="avatar" aria-label="Foto do Usu√°rio"&gt;&lt;/div&gt;
            &lt;span class="username"&gt;Usu√°rio1233&lt;/span&gt;
          &lt;/header&gt;
          &lt;div class="image-placeholder" aria-label="Imagem do Post"&gt;&lt;/div&gt;
        &lt;/article&gt;
        &lt;hr class="divider" /&gt;
        &lt;article class="post"&gt;
          &lt;header class="user-info"&gt;
            &lt;div class="avatar" aria-label="Foto do Usu√°rio"&gt;&lt;/div&gt;
            &lt;span class="username"&gt;Usu√°rio1233&lt;/span&gt;
          &lt;/header&gt;
          &lt;div class="image-placeholder" aria-label="Imagem do Post"&gt;&lt;/div&gt;
        &lt;/article&gt;
      &lt;/section&gt;
    &lt;/main&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<ul>
<li>Como o CSS est√° separado do HTML em um arquivo externo, √© necess√°rio import√°-lo na p√°gina inicial. Para isso, utilizamos a seguinte tag dentro do <code>&lt;head&gt;</code>:</li>
</ul>
<pre><code class="language-html">&lt;link rel="stylesheet" href="caminho-do-arquivo-css" /&gt;
</code></pre>
<ul>
<li>Observe que dentro do body tem:</li>
</ul>
<pre><code class="language-php">&lt;?php include __DIR__ . '/side-bar.php'; ?&gt;
</code></pre>
<p>Esta linha utiliza include DIR para importar outro arquivo HTML, que, neste caso, √© o <code>side-bar.php</code>. Como o projeto possui v√°rias p√°ginas que compartilham a mesma funcionalidade, a importa√ß√£o evita a duplica√ß√£o de c√≥digo. Assim, essa funcionalidade √© carregada apenas nas p√°ginas que precisam dela, como <code>home.php</code> e <code>profile.php</code>.</p>
<ul>
<li>Arquivo <code>side-bar.php</code>:</li>
</ul>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8" /&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0" /&gt;
    &lt;title&gt;Document&lt;/title&gt;
    &lt;link rel="stylesheet" href="../css/side-bar.css" /&gt;
  &lt;/head&gt;

  &lt;body&gt;
    &lt;!-- Barra Lateral --&gt;
    &lt;aside class="side-bar"&gt;
      &lt;img src="../../img/logo.svg" alt="Logo da empresa" class="logo" /&gt;
      &lt;nav class="side-bar-links"&gt;
        &lt;a href="./home.php"&gt;
          &lt;img
            src="../../img/home.svg"
            class="icon"
            alt="√çcone P√°gina Principal"
          /&gt;
          P√°gina principal
        &lt;/a&gt;
        &lt;a href=""&gt;
          &lt;img src="../../img/search.svg" class="icon" alt="√çcone Pesquisar" /&gt;
          Pesquisar
        &lt;/a&gt;
        &lt;a href="./profile.php"&gt;
          &lt;img src="../../img/profile.svg" class="icon" alt="√çcone Perfil" /&gt;
          Perfil
        &lt;/a&gt;
      &lt;/nav&gt;
    &lt;/aside&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="5-ap√≥s-desenvolver-sua-feature-fa√ßa-commits-e-quando-finalizar-envie-para-o-reposit√≥rio-remoto"><a class="header" href="#5-ap√≥s-desenvolver-sua-feature-fa√ßa-commits-e-quando-finalizar-envie-para-o-reposit√≥rio-remoto">5. Ap√≥s desenvolver sua feature, fa√ßa commits e, quando finalizar, envie para o reposit√≥rio remoto:</a></h3>
<pre><code>git add .
git commit -m "Novas funcionalidades"
git push origin feature/nova-funcionalidades
</code></pre>
<ul>
<li>Abra um Pull Request (PR) para mesclar a feature na branch develop.</li>
</ul>
<h3 id="6-cria√ß√£o-de-releases-vers√µes-do-projeto"><a class="header" href="#6-cria√ß√£o-de-releases-vers√µes-do-projeto">6. Cria√ß√£o de Releases (Vers√µes do Projeto)</a></h3>
<ul>
<li>Quando for preparar uma vers√£o para produ√ß√£o, crie uma branch release baseada na develop:</li>
</ul>
<pre><code>git checkout -b release/1.0
</code></pre>
<ul>
<li>Corrija pequenos ajustes e, quando estiver pronto, mescle no main e na develop:</li>
</ul>
<pre><code>git checkout main
git merge release/1.0
git checkout develop
git merge release/1.0
</code></pre>
<h3 id="7-corre√ß√£o-de-bugs-hotfixes"><a class="header" href="#7-corre√ß√£o-de-bugs-hotfixes">7. Corre√ß√£o de Bugs (Hotfixes)</a></h3>
<ul>
<li>Caso um erro cr√≠tico seja encontrado na main, crie uma branch hotfix baseada nela:</li>
</ul>
<pre><code>git checkout -b hotfix/corrige-erro
</code></pre>
<ul>
<li>Ap√≥s corrigir, mescle na main e na develop:</li>
</ul>
<pre><code>git checkout main
git merge hotfix/corrige-erro
git checkout develop
git merge hotfix/corrige-erro
</code></pre>
<ul>
<li>Exclua a branch hotfix:</li>
</ul>
<pre><code>git branch -d hotfix/corrige-erro
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="boas-pr√°ticas-para-gitflow-com-html-e-css"><a class="header" href="#boas-pr√°ticas-para-gitflow-com-html-e-css">Boas Pr√°ticas para GitFlow com HTML e CSS</a></h1>
<h3 id="1-nomea√ß√£o-de-branches"><a class="header" href="#1-nomea√ß√£o-de-branches">1. Nomea√ß√£o de Branches</a></h3>
<p>Uma nomenclatura padronizada e clara para as branches facilita a organiza√ß√£o do c√≥digo e a identifica√ß√£o de funcionalidade.</p>
<p><strong>Boas Pr√°ticas:</strong></p>
<ul>
<li>
<p>Utilize um padr√£o consistente: <code>feature/nome-da-funcionalidade</code>, <code>bugfix/nome-da-corre√ß√£o</code>.</p>
</li>
<li>
<p>Evite nomes gen√©ricos como <code>feature/alteracao</code> ou <code>hotfix/ajuste</code>.</p>
</li>
<li>
<p>Use <code>kebab-case</code> ou <code>snake_case</code> para evitar espa√ßos (exemplo: <code>feature/responsive-navbar</code> ou <code>hotfix/footer_bug</code>).</p>
</li>
</ul>
<p><strong>Exemplo de cria√ß√£o de branch:</strong></p>
<pre><code> git checkout -b feature/menu-responsivo
</code></pre>
<h3 id="2-commits-claros-e-objetivos"><a class="header" href="#2-commits-claros-e-objetivos">2. Commits Claros e Objetivos</a></h3>
<p>Escrever mensagens de commit bem estruturadas facilita a compreens√£o das altera√ß√µes feitas no projeto.</p>
<p><strong>Boas Pr√°ticas:</strong></p>
<ul>
<li>
<p>Seja descritivo e direto: uma boa mensagem de commit resume a mudan√ßa de forma clara.</p>
</li>
<li>
<p>Utilize o tempo verbal correto: mensagens no imperativo s√£o recomendadas (<code>Adiciona</code>, <code>Corrige</code>, <code>Remove</code>).</p>
</li>
<li>
<p>Prefira commits pequenos e frequentes ao inv√©s de um grande commit com muitas altera√ß√µes.</p>
</li>
</ul>
<p><em>Exemplos de mensagens de commit boas:</em></p>
<ul>
<li>
<p><code>Adiciona estilo responsivo ao menu</code></p>
</li>
<li>
<p><code>Corrige bug no layout do footer em telas menores</code></p>
</li>
</ul>
<h3 id="3-uso-de-pull-requests-para-revis√£o"><a class="header" href="#3-uso-de-pull-requests-para-revis√£o">3. Uso de Pull Requests para Revis√£o</a></h3>
<p>Os Pull Requests (PRs) no GitHub permitem que altera√ß√µes sejam revisadas antes de serem incorporadas √† branch principal.</p>
<p><strong>Boas Pr√°ticas:</strong></p>
<ul>
<li>
<p>Sempre crie um PR ao finalizar uma feature, release ou hotfix.</p>
</li>
<li>
<p>Utilize uma descri√ß√£o detalhada no PR para explicar as mudan√ßas.</p>
</li>
<li>
<p>Marque membros da equipe para revis√£o antes de aprovar a fus√£o.</p>
</li>
</ul>
<p><em>Exemplo de PR bem documentado:</em></p>
<p><strong>T√≠tulo:</strong> "Adiciona layout responsivo ao menu de navega√ß√£o"Descri√ß√£o:</p>
<ul>
<li>
<p>Adiciona media queries para tornar o menu responsivo.</p>
</li>
<li>
<p>Corrige alinhamento do logo e espa√ßamento dos itens.</p>
</li>
<li>
<p>Testado em dispositivos m√≥veis e desktop.</p>
</li>
</ul>
<h3 id="4-separa√ß√£o-de-c√≥digo-html-css-e-js"><a class="header" href="#4-separa√ß√£o-de-c√≥digo-html-css-e-js">4. Separa√ß√£o de C√≥digo HTML, CSS e JS</a></h3>
<p>Uma estrutura organizada do projeto facilita a manuten√ß√£o e reutiliza√ß√£o do c√≥digo.</p>
<p><strong>Boas Pr√°ticas:</strong></p>
<ul>
<li>
<p>Utilize pastas organizadas (<code>/css</code>, <code>/js</code>, <code>/img</code>).</p>
</li>
<li>
<p>N√£o misture CSS inline no HTML, prefira arquivos externos.</p>
</li>
<li>
<p>Use uma estrutura modular (exemplo: <code>style.css</code> para estilos gerais e <code>navbar.css</code> para estilos espec√≠ficos do menu).</p>
</li>
</ul>
<p><em>Exemplo de estrutura recomendada:</em></p>
<pre><code>/projeto
‚îÇ‚îÄ‚îÄ index.html
‚îÇ‚îÄ‚îÄ /css
‚îÇ   ‚îÇ‚îÄ‚îÄ style.css
‚îÇ   ‚îÇ‚îÄ‚îÄ navbar.css
‚îÇ‚îÄ‚îÄ /js
‚îÇ   ‚îÇ‚îÄ‚îÄ script.js
‚îÇ‚îÄ‚îÄ /img
‚îÇ   ‚îÇ‚îÄ‚îÄ logo.png
</code></pre>
<h3 id="5-testes-antes-de-fazer-merge"><a class="header" href="#5-testes-antes-de-fazer-merge">5. Testes Antes de Fazer Merge</a></h3>
<p>Antes de mesclar uma branch ao develop ou main, √© fundamental testar o c√≥digo para evitar bugs.</p>
<p><strong>Boas Pr√°ticas:</strong></p>
<ul>
<li>
<p>Testar localmente antes de enviar um PR.</p>
</li>
<li>
<p>Verificar compatibilidade em diferentes navegadores.</p>
</li>
<li>
<p>Certificar-se de que o CSS n√£o est√° quebrando o layout.</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="documenta√ß√£o"><a class="header" href="#documenta√ß√£o">Documenta√ß√£o</a></h1>
<p>Para aprofundar os conhecimentos sobre GitFlow, Git e boas pr√°ticas no desenvolvimento de projetos com HTML e CSS, √© recomend√°vel consultar materiais adicionais.</p>
<h3 id="documenta√ß√£o-oficial-do-git"><a class="header" href="#documenta√ß√£o-oficial-do-git">Documenta√ß√£o Oficial do Git</a></h3>
<ul>
<li><a href="https://git-scm.com/doc">Git - Documenta√ß√£o Oficial</a></li>
</ul>
<h3 id="documenta√ß√£o-do-gitflow"><a class="header" href="#documenta√ß√£o-do-gitflow">Documenta√ß√£o do GitFlow</a></h3>
<ul>
<li><a href="https://gist.github.com/paulo-raoni/1a8f52138f67fd40379f454ee61aa4ce">GitFlow</a></li>
</ul>
<h3 id="documenta√ß√£o-do-github"><a class="header" href="#documenta√ß√£o-do-github">Documenta√ß√£o do GitHub</a></h3>
<ul>
<li><a href="https://docs.github.com/pt">GitHub</a></li>
</ul>
<h3 id="boas-pr√°ticas-em-desenvolvimento-com-html-e-css"><a class="header" href="#boas-pr√°ticas-em-desenvolvimento-com-html-e-css">Boas Pr√°ticas em Desenvolvimento com HTML e CSS</a></h3>
<ul>
<li><a href="https://www.w3schools.com/html/html5_semantic_elements.asp">HTML e CSS</a></li>
<li><a href="https://web.dev/?hl=pt-br">Google Web Fundamentals</a></li>
</ul>
<p>Boas pr√°ticas recomendadas pelo Google para desenvolvimento web moderno e otimiza√ß√£o de desempenho.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cap√≠tulo-4---introdu√ß√£o-ao-php-b√°sico-aplicando-gitflow-no-github"><a class="header" href="#cap√≠tulo-4---introdu√ß√£o-ao-php-b√°sico-aplicando-gitflow-no-github">Cap√≠tulo 4 - Introdu√ß√£o ao PHP B√°sico aplicando GitFlow no GitHub</a></h1>
<h2 id="40-introdu√ß√£o-ao-php-b√°sico-aplicando-gitflow-no-github"><a class="header" href="#40-introdu√ß√£o-ao-php-b√°sico-aplicando-gitflow-no-github">4.0. Introdu√ß√£o ao PHP B√°sico aplicando GitFlow no GitHub</a></h2>
<h2 id="401-o-que-√©-php"><a class="header" href="#401-o-que-√©-php">4.0.1. O que √© PHP?</a></h2>
<p>O PHP (Hypertext Preprocessor) √© uma linguagem de programa√ß√£o de c√≥digo aberto voltada para o desenvolvimento web. Criado originalmente por Rasmus Lerdorf em 1994, o PHP permite a cria√ß√£o de p√°ginas din√¢micas e interativas, sendo amplamente utilizado em conjunto com HTML e bancos de dados como MySQL.</p>
<h2 id="402-caracter√≠sticas-do-php"><a class="header" href="#402-caracter√≠sticas-do-php">4.0.2. Caracter√≠sticas do PHP</a></h2>
<ul>
<li>
<p>Execu√ß√£o no Servidor: O PHP √© processado no servidor, gerando uma p√°gina HTML que √© enviada ao navegador. Isso significa que o c√≥digo PHP n√£o aparece no navegador do usu√°rio, apenas o HTML gerado por ele.</p>
</li>
<li>
<p>Integra√ß√£o com HTML: PHP pode ser embutido diretamente no HTML. Isso permite criar p√°ginas din√¢micas com facilidade. Exemplo: Em um sistema de coment√°rios, voc√™ pode usar PHP para exibir os coment√°rios armazenados em um banco de dados.</p>
</li>
<li>
<p>Suporte a V√°rios Bancos de Dados: Compat√≠vel com MySQL, PostgreSQL, SQLite, entre outros.</p>
</li>
<li>
<p>Ampla Comunidade: PHP tem uma comunidade enorme que oferece suporte, bibliotecas e frameworks, tornando o desenvolvimento muito mais √°gil.
Exemplo: A biblioteca Composer facilita a instala√ß√£o de pacotes externos, e frameworks como Laravel ajudam a construir aplica√ß√µes mais r√°pidas e seguras.</p>
</li>
</ul>
<h3 id="sintaxe-b√°sica-do-php"><a class="header" href="#sintaxe-b√°sica-do-php">Sintaxe B√°sica do PHP</a></h3>
<p>O PHP pode ser inserido dentro do c√≥digo HTML utilizando as tags:</p>
<pre><code>&lt;?php ... ?&gt;.
</code></pre>
<p><strong>Exemplo de um script b√°sico:</strong></p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Exemplo PHP&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;&lt;?php echo "Hello, World!"; ?&gt;&lt;/h1&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p><em>Nesse exemplo, o PHP processa o comando <code>echo</code> e insere "Hello, World!" na p√°gina HTML.</em></p>
<p><strong>Exemplos de Comandos B√°sicos no PHP</strong></p>
<ul>
<li>Vari√°veis e Tipos de Dados:</li>
</ul>
<pre><code class="language-php">&lt;?php
$nome = "Jo√£o";  // string
$idade = 30;      // inteiro
$altura = 1.75;   // float
$ativo = true;    // booleano
?&gt;
</code></pre>
<ul>
<li>Estruturas Condicionais:</li>
</ul>
<pre><code class="language-php">&lt;?php
$idade = 20;
if ($idade &gt;= 18) {
    echo "Voc√™ √© maior de idade.";
} else {
    echo "Voc√™ √© menor de idade.";
}
?&gt;
</code></pre>
<ul>
<li>La√ßos de Repeti√ß√£o:</li>
</ul>
<pre><code class="language-php">&lt;?php
// La√ßo for
for ($i = 0; $i &lt; 5; $i++) {
    echo "N√∫mero: $i &lt;br&gt;";
}

// La√ßo while
$i = 0;
while ($i &lt; 5) {
    echo "N√∫mero: $i &lt;br&gt;";
    $i++;
}

// La√ßo foreach
$nomes = ["Jo√£o", "Maria", "Jos√©"];
foreach ($nomes as $nome) {
    echo "Nome: $nome &lt;br&gt;";
}

// foreach para array chave-valor
$user = ["id" =&gt; 1, "name" =&gt; "name", "password" =&gt; "123456"]
foreach ($user as $key =&gt; $value){
  echo "dados do usu√°rio:" . $value;
}
?&gt;

</code></pre>
<h3 id="conven√ß√µes-de-nomenclatura-no-php-moderno"><a class="header" href="#conven√ß√µes-de-nomenclatura-no-php-moderno">Conven√ß√µes de Nomenclatura no PHP moderno</a></h3>
<p>Seguindo as PSRs (PHP Standards Recommendations) como PSR-1, PSR-2 e PSR-12, aqui est√£o as conven√ß√µes recomendadas e que usaremos no desenvolvimento do projeto:</p>
<h4 id="tabela-de-conven√ß√µes"><a class="header" href="#tabela-de-conven√ß√µes"><strong>Tabela de Conven√ß√µes</strong></a></h4>
<div class="table-wrapper"><table><thead><tr><th>Elemento</th><th>Conven√ß√£o</th><th>Exemplo</th></tr></thead><tbody>
<tr><td><strong>Classes</strong></td><td>PascalCase</td><td><code>UserController</code></td></tr>
<tr><td><strong>Interfaces</strong></td><td>"I" + PascalCase</td><td><code>ILogger</code></td></tr>
<tr><td><strong>Traits</strong></td><td>PascalCase + "Trait"</td><td><code>SingletonTrait</code></td></tr>
<tr><td><strong>M√©todos</strong></td><td>camelCase</td><td><code>getUserById()</code></td></tr>
<tr><td><strong>Vari√°veis</strong></td><td>camelCase</td><td><code>$userId</code></td></tr>
<tr><td><strong>Par√¢metros</strong></td><td>camelCase</td><td><code>function setUserName($userName)</code></td></tr>
<tr><td><strong>Constantes</strong></td><td>UPPER_SNAKE_CASE</td><td><code>const MAX_USERS = 100;</code></td></tr>
<tr><td><strong>Arquivos/Classes</strong></td><td>PascalCase.php</td><td><code>UserController.php</code></td></tr>
<tr><td><strong>Fun√ß√µes globais</strong></td><td>snake_case (evitar)</td><td><code>function array_map_recursive()</code></td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="como-instalar-o-php-no-windows"><a class="header" href="#como-instalar-o-php-no-windows">Como instalar o PHP no Windows</a></h1>
<h2 id="baixar-o-php"><a class="header" href="#baixar-o-php">Baixar o PHP</a></h2>
<ol>
<li>
<p>Acesse o site oficial do PHP: https://windows.php.net/download.</p>
</li>
<li>
<p>Baixe a vers√£o Thread Safe compat√≠vel com seu sistema (x64 para 64 bits ou x86 para 32 bits).</p>
</li>
<li>
<p>Baixe o arquivo ZIP e extraia-o para um diret√≥rio, como <code>C:\php</code>.</p>
</li>
</ol>
<h2 id="configurar-as-vari√°veis-de-ambiente"><a class="header" href="#configurar-as-vari√°veis-de-ambiente">Configurar as Vari√°veis de Ambiente</a></h2>
<ol>
<li>
<p>V√° em vari√°veis do sistema, localize a vari√°vel <code>Path</code> e clique em Editar.</p>
</li>
<li>
<p>Clique em Novo e adicione o caminho da pasta do PHP.</p>
</li>
<li>
<p>Clique em OK para salvar.</p>
</li>
</ol>
<h2 id="configurar-o-phpini"><a class="header" href="#configurar-o-phpini">Configurar o <code>php.ini</code></a></h2>
<ol>
<li>
<p>V√° at√© a pasta do PHP.</p>
</li>
<li>
<p>Copie o arquivo <code>php.ini-development</code> e renomeie para <code>php.ini</code>.</p>
</li>
<li>
<p>Abra o arquivo <code>php.ini</code> com o Bloco de Notas e descomente (remova o <code>;</code> antes de) algumas extens√µes essenciais:</p>
</li>
</ol>
<pre><code>extension=mysqli
extension=pdo_mysql
extension=mbstring
extension=curl
extension=openssl
</code></pre>
<ol start="4">
<li>Salve o arquivo.</li>
</ol>
<h2 id="testar-a-instala√ß√£o"><a class="header" href="#testar-a-instala√ß√£o">Testar a Instala√ß√£o</a></h2>
<ol>
<li>Abra o Prompt de Comando (CMD) e digite:</li>
</ol>
<pre><code>php -v
</code></pre>
<ol start="2">
<li>Se o PHP estiver instalado corretamente, voc√™ ver√° a vers√£o exibida.</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="o-que-√©-xampp"><a class="header" href="#o-que-√©-xampp">O que √© XAMPP?</a></h1>
<p>O XAMPP √© um ambiente de desenvolvimento integrado e multiplataforma, projetado para facilitar a cria√ß√£o, teste e implanta√ß√£o de aplica√ß√µes web em um servidor local. Ele √© amplamente utilizado por desenvolvedores, analistas de sistemas e profissionais de TI para simular um ambiente de produ√ß√£o em suas m√°quinas locais, permitindo o desenvolvimento e a valida√ß√£o de projetos web antes de sua publica√ß√£o em servidores remotos.</p>
<h2 id="aplica√ß√µes-do-xampp"><a class="header" href="#aplica√ß√µes-do-xampp">Aplica√ß√µes do XAMPP</a></h2>
<p>O XAMPP √© utilizado para:</p>
<ul>
<li>
<p><strong>Desenvolvimento de aplica√ß√µes web:</strong> Permite criar e testar sites din√¢micos, sistemas de gerenciamento de conte√∫do (CMS), e-commerce e outras aplica√ß√µes baseadas em PHP, MySQL e Apache.</p>
</li>
<li>
<p><strong>Testes locais:</strong> Simula um ambiente de servidor web completo, permitindo a execu√ß√£o de scripts, testes de banco de dados e valida√ß√£o de funcionalidades sem a necessidade de um servidor externo.</p>
</li>
<li>
<p><strong>Prototipagem r√°pida:</strong> Facilita a cria√ß√£o de prot√≥tipos funcionais de aplica√ß√µes web, reduzindo o tempo de desenvolvimento.</p>
</li>
<li>
<p><strong>Aprendizado e treinamento:</strong> √â uma ferramenta essencial para estudantes e profissionais que est√£o aprendendo desenvolvimento web, administra√ß√£o de servidores ou gerenciamento de bancos de dados.</p>
</li>
<li>
<p><strong>Ambiente de staging:</strong> Permite a configura√ß√£o de um ambiente de homologa√ß√£o local para testes finais antes da implanta√ß√£o em produ√ß√£o.</p>
</li>
</ul>
<h2 id="vantagens-do-xampp"><a class="header" href="#vantagens-do-xampp">Vantagens do XAMPP</a></h2>
<ul>
<li>
<p><strong>Portabilidade:</strong> √â multiplataforma e pode ser executado em diferentes sistemas operacionais.</p>
</li>
<li>
<p><strong>Facilidade de uso:</strong> Vem pr√©-configurado, eliminando a necessidade de configura√ß√µes manuais complexas.</p>
</li>
<li>
<p><strong>Gratuito e de c√≥digo aberto:</strong> N√£o h√° custos associados √† sua utiliza√ß√£o.</p>
</li>
<li>
<p><strong>Integra√ß√£o de ferramentas:</strong> Inclui todos os componentes necess√°rios para um ambiente de desenvolvimento web completo.</p>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="exemplo-pr√°tico-configurando-ambiente-xampp"><a class="header" href="#exemplo-pr√°tico-configurando-ambiente-xampp">Exemplo Pr√°tico: Configurando ambiente XAMPP</a></h1>
<p>A configura√ß√£o correta de um servidor e banco de dados √© essencial para o funcionamento de qualquer sistema de software. Neste exemplo pr√°tico, vamos demonstrar como configurar um ambiente de desenvolvimento local utilizando XAMPP para o servidor e MySQL para o banco de dados.</p>
<h2 id="instala√ß√£o-e-configura√ß√£o-do-xampp"><a class="header" href="#instala√ß√£o-e-configura√ß√£o-do-xampp">Instala√ß√£o e Configura√ß√£o do XAMPP</a></h2>
<ol>
<li>
<p>Baixe e instale o XAMPP no site oficial: https://www.apachefriends.org/pt_br/download.html</p>
</li>
<li>
<p>Inicie o Painel de Controle do XAMPP e ative os servi√ßos Apache e MySQL.</p>
</li>
<li>
<p>Verifique a instala√ß√£o acessando <code>http://localhost</code> no navegador.</p>
</li>
</ol>
<p><em>Se ocorrer um erro ao iniciar o MySQL no XAMPP, acesse o painel de controle e encerre o processo do MySQL antes de tentar novamente.</em></p>
<h2 id="cria√ß√£o-e-configura√ß√£o-do-banco-de-dados-com-xampp"><a class="header" href="#cria√ß√£o-e-configura√ß√£o-do-banco-de-dados-com-xampp">Cria√ß√£o e Configura√ß√£o do Banco de Dados com XAMPP</a></h2>
<ol>
<li>
<p>Acesse o phpMyAdmin via <code>http://localhost/phpmyadmin/</code>, ou utilize o <code>MySQL Workbench</code> como alternativa.</p>
</li>
<li>
<p>Crie um novo banco de dados chamado <code>conex</code> (<em>vamos usar o exemplo do nosso projeto</em>).</p>
</li>
<li>
<p>Execute o seguinte SQL para criar uma tabela de usu√°rios:</p>
</li>
</ol>
<pre><code class="language-sql">CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    email VARCHAR(255) UNIQUE NOT NULL,
    phone VARCHAR(15) UNIQUE,
    password_hash VARCHAR(255) NOT NULL,
    username VARCHAR(255) NOT NULL,
    bio TEXT
);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="o-que-√©-docker"><a class="header" href="#o-que-√©-docker">O que √© Docker?</a></h1>
<p>Docker √© uma ferramenta que permite "empacotar" aplica√ß√µes em cont√™ineres a partir de um arquivo "Dockerfile", isolando depend√™ncias e ambientes. Isso facilita a implanta√ß√£o e distribui√ß√£o em diferentes sistemas, pois cada cont√™iner cont√©m tudo que a aplica√ß√£o precisa para rodar, mas o que exatamente √© um cont√™iner Docker?</p>
<h2 id="cont√™iner-docker"><a class="header" href="#cont√™iner-docker">Cont√™iner Docker</a></h2>
<p>J√° ouviu a frase: "Mas na minha m√°quina o c√≥digo funciona"? ent√£o, times que desenvolvem com Docker n√£o passam por problemas como esse, pois com essa ferramenta, o desenvolvedor √© capaz de encapsular a aplica√ß√£o e todas as depend√™ncias necess√°rias para o seu funcionamento , incluindo o sistema operacional em um cont√™iner isolado, tornando o ambiente de desenvolvimento √∫nico para todos os desenvolvedores, prevenindo bug relacionado a mudan√ßa de sistema operacional ou vers√£o das depend√™ncias utilizadas.</p>
<p>Para quem j√° trabalhou com o framework Django, √© semelhante a criar um ‚Äúvirtual environment‚Äù na pasta ‚Äúvenv‚Äù. Por√©m, um cont√™iner Docker vai al√©m, ele n√£o apenas isola depend√™ncias, mas tamb√©m o ambiente de execu√ß√£o, e tamb√©m partes do sistema operacional e configura√ß√µes, tornando o isolamento ainda maior.</p>
<h2 id="dockerhub"><a class="header" href="#dockerhub">DockerHub</a></h2>
<p>DockerHub √© um servi√ßo de hospedagem de imagens Docker, semelhante, em algumas partes, ao GitHub. √â um reposit√≥rio onde s√£o armazenadas, versionadas e compartilhadas as imagens de cont√™iner, permitindo que usu√°rios fa√ßam pull (baixem) e push (publiquem) suas imagens em um reposit√≥rio central.</p>
<p>Imagem √© o molde que define como o container ser√° criado. Fazendo uma alus√£o √† orienta√ß√£o a objetos, o container gerado apartir da imagem seria como um objeto e a imagem uma classe</p>
<p>Exemplo:</p>
<p>Uma imagem Docker para um servidor web (como nginx:latest) pode ser usada para criar m√∫ltiplos cont√™ineres, cada um rodando de forma independente, assim como uma classe pode ser instanciada em m√∫ltiplos objetos.</p>
<h2 id="docker-compose"><a class="header" href="#docker-compose">Docker Compose</a></h2>
<p>O Docker Compose √© uma ferramenta que permite definir e gerenciar v√°rios cont√™ineres, e as imagens que os originam, em um √∫nico arquivo YAML, chamado "docker-compose.yml". Em vez de executar cada cont√™iner individualmente, basta declarar todos os servi√ßos necess√°rios (por exemplo, um banco de dados, um servidor web ou uma aplica√ß√£o) e ent√£o executar um √∫nico comando, para levantar todo o ambiente de forma coordenada, oque facilita o setup e manuten√ß√£o do ambiente unificado.</p>
<h2 id="principais-comandos-docker"><a class="header" href="#principais-comandos-docker">Principais comandos Docker</a></h2>
<pre><code class="language-bash"># Lista os cont√™ineres em execu√ß√£o
docker ps

# Lista todos os cont√™ineres (em execu√ß√£o e parados)
docker ps -a

# Executa um novo cont√™iner a partir de um Dockerfile
docker run 

# Cria e inicia os cont√™ineres em modo desanexado (background), reconstruindo se necess√°rio
docker-compose up --build -d

# Encerra e remove os cont√™ineres e redes criados
docker-compose down

# Para os cont√™ineres sem remov√™-los
docker-compose stop

# Reinicia cont√™ineres que foram parados
docker-compose start

# Para construir uma imagem Docker a partir de um Dockerfile
docker build -t nome-da-imagem .

# Executa um novo cont√™iner a partir de uma imagem
docker run -d -p 8080:80 nome-da-imagem

# Para acessar o terminal dentro de um cont√™iner em execu√ß√£o
docker exec -it &lt;container_name&gt; bash

# Para parar um cont√™iner
docker stop &lt;container_name&gt;

# Para remover um cont√™iner
docker rm &lt;container_name&gt;

# Para ver os logs de um cont√™iner
docker logs &lt;container_name&gt;

# Para visualizar op√ß√µes gerais do Docker
docker
</code></pre>
<blockquote>
<p><strong>Observa√ß√£o</strong><br />
Em alguns sistemas operacionais, o comando correto √© <code>docker compose</code> em vez de <code>docker-compose</code>.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="exemplo-pr√°tico-configurando-ambiente-docker"><a class="header" href="#exemplo-pr√°tico-configurando-ambiente-docker">Exemplo Pr√°tico: Configurando ambiente Docker</a></h1>
<h2 id="cria√ß√£o-e-configura√ß√£o-do-banco-de-dados"><a class="header" href="#cria√ß√£o-e-configura√ß√£o-do-banco-de-dados">Cria√ß√£o e Configura√ß√£o do Banco de Dados</a></h2>
<pre><code class="language-yml">services:
  db:
    image: postgres:15-alpine
    container_name: conex_db_t04
    environment:
      POSTGRES_USER: admin
      POSTGRES_PASSWORD: root
      POSTGRES_DB: conex
    ports:
      - "5432:5432"
    volumes:
      - postgres_data:/var/lib/postgresql/data
      - ./init_db.sql:/docker-entrypoint-initdb.d/init_db.sql
  web:
    container_name: conex_web_t04
    build: .  
    ports:
      - "8080:80"
    volumes:
      - .:/var/www/html
    depends_on:
      - db
  pgadmin:
    image: dpage/pgadmin4:8.11.0 
    ports:
      - 5050:80 
    environment: 
      - PGADMIN_DEFAULT_EMAIL=admin@mail.com
      - PGADMIN_DEFAULT_PASSWORD=root
    depends_on:
      - db

volumes:
  postgres_data:
</code></pre>
<ol>
<li>
<p>Inicialize o docker deamon (no windows basta abrir o Docker Desktop)</p>
</li>
<li>
<p>No terminal do diret√≥rio raiz projeto (onde est√° localizado o docker-compose.yml) suba o container com o comando "docker-compose up --build -d"</p>
</li>
<li>
<p>use o comando "docker exec -it &lt;container_name&gt; bash" para acessar o terminal dentro de um cont√™iner em execu√ß√£o</p>
</li>
<li>
<p>no bash do container use o comando psql -U &lt;POSTGRES_USER&gt; -d &lt;POSTGRES_DB&gt; para abrir o terminal do psql</p>
</li>
<li>
<p>Copie o conte√∫do do arquivo "db.sql" para o terminal do psql, que automaticamente ser√£o criadas as tabelas do banco</p>
</li>
</ol>
<pre><code class="language-sql">CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    email VARCHAR(255) UNIQUE NOT NULL,
    phone VARCHAR(15) UNIQUE,
    password_hash VARCHAR(255) NOT NULL,
    username VARCHAR(255) NOT NULL,
    bio TEXT
);
</code></pre>
<h3 id="services-servi√ßos"><a class="header" href="#services-servi√ßos">Services (Servi√ßos)</a></h3>
<p>Dentro de um arquivo docker-compose.yml, cada ‚Äúservice‚Äù representa um cont√™iner. Por exemplo:</p>
<ul>
<li><strong>db</strong> na configura√ß√£o acima representa um cont√™iner com banco de dados PostgreSQL.</li>
<li><strong>pgadmin</strong> representa um cont√™iner que roda a interface web pgAdmin.</li>
</ul>
<p>Cada servi√ßo define qual imagem Docker ser√° usada, vari√°veis de ambiente, portas que ser√£o expostas, volumes para persist√™ncia de dados e depend√™ncias de outros servi√ßos.</p>
<p>Fazendo novamente uma analogia ao paradigma de orienta√ß√£o a objetos, o service "db" instancia a "classe" "postgres:15-alpine" e modifica seus "atributos": POSTGRES_USER, POSTGRES_PASSWORD, POSTGRES_DB, ports, volumes.</p>
<h3 id="volumes"><a class="header" href="#volumes">Volumes</a></h3>
<p>Volumes permitem que voc√™ mantenha os dados salvos entre reinicializa√ß√µes dos cont√™ineres. Sem volumes, os dados seriam perdidos toda vez que o cont√™iner fosse parado ou recriado. Ao configurar ‚Äúvolumes‚Äù, o Docker mapeia um diret√≥rio interno do cont√™iner para uma pasta ou volume persistente na m√°quina host, garantindo que as informa√ß√µes sejam preservadas.</p>
<h3 id="docker-no-contexto-do-projeto"><a class="header" href="#docker-no-contexto-do-projeto">Docker no contexto do projeto</a></h3>
<p>No docker-compose.yml:</p>
<p>‚Ä¢ servi√ßo ‚Äúdb‚Äù:</p>
<ul>
<li>Usa a imagem postgres:15-alpine (vers√£o mais leve do PostgreSQL).</li>
<li>Define vari√°veis de ambiente (usu√°rio, senha e nome do banco).</li>
<li>Exp√µe a porta 5432 para que outras aplica√ß√µes possam fazer um bind nessa porta, e se conectar com o servidor do banco postgres.</li>
<li>Suporta um volume para persistir os dados.</li>
</ul>
<p>‚Ä¢ servi√ßo ‚Äúpgadmin‚Äù:</p>
<ul>
<li>Usa a imagem dpage/pgadmin4 para gerenciar o banco via interface visual no navegador.</li>
<li>Redireciona a porta 80 do cont√™iner para a 5050 no host, ou seja,</li>
<li>Define vari√°veis de ambiente de login e senha do pgAdmin.</li>
<li>Cria uma depend√™ncia com o servi√ßo ‚Äúdb‚Äù, ou seja, o cont√™iner pgAdmin s√≥ sobe quando ‚Äúdb‚Äù estiver dispon√≠vel.</li>
</ul>
<p>Desse modo o banco de dados e a interface de gerenciamento s√£o definidos em um √∫nico arquivo de configura√ß√£o (YAML), facilitando a manuten√ß√£o, escalabilidade e portabilidade do seu projeto.</p>
<h2 id="outra-forma"><a class="header" href="#outra-forma">Outra forma</a></h2>
<p>Uma alternativa √† configura√ß√£o direta no docker-compose.yml √© criar um Dockerfile para encapsular a aplica√ß√£o e, em seguida, referenci√°-lo no docker-compose.yml. Isso √© √∫til quando voc√™ precisa personalizar a imagem Docker da aplica√ß√£o.</p>
<p>Arquivo Dockerfile:</p>
<pre><code class="language-yaml">FROM php:5.6-apache

# instala as depend√™ncias do PHP: mbstring, pdo, pdo_mysql e pdo_pgsql
RUN apt-get update &amp;&amp; apt-get install -y libpq-dev &amp;&amp; rm -rf /var/lib/apt/lists/* \ &amp;&amp; docker-php-ext-install mbstring pdo pdo_mysql pdo_pgsql

# instala o m√≥dulo de reescrita de URL do Apache
RUN a2enmod rewrite

# copia o c√≥digo-fonte da aplica√ß√£o para o diret√≥rio raiz do servidor web
# fazer um COPY . /var/www/html/ necessitaria de um Dockerignore, pois copia arquivos desnecess√°rios
COPY public/ /var/www/html/
COPY src/ /var/www/html/src/
COPY view/ /var/www/html/view/

# define o diret√≥rio raiz do servidor web
WORKDIR /var/www/html

# exp√µe a porta 80 do cont√™iner para o host (necess√°rio para acessar a aplica√ß√£o via navegador)
EXPOSE 80

# define o comando que ser√° executado quando o cont√™iner for iniciado
CMD ["apache2-foreground"]
</code></pre>
<p>Arquivo docker-compose.yml:</p>
<pre><code class="language-yml">php:
    build: .  # usa o Dockerfile do diret√≥rio atual
    container_name: php
    ports:
        - "80:80"
    volumes:
        - ./src:/var/www/html
    depends_on:
        - db
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="conex---t√≥pico-04"><a class="header" href="#conex---t√≥pico-04">Conex - t√≥pico 04</a></h1>
<blockquote>
<p>Tarefas:</p>
<ul>
<li>Criar conex√£o com banco de dados via PDO</li>
<li>Implementar backend da view "signup.php"</li>
</ul>
</blockquote>
<blockquote>
<p>Funcionalidade:</p>
<ul>
<li>Cadastro de usu√°rios no sistema</li>
</ul>
</blockquote>
<h2 id="vis√£o-do-usu√°rio"><a class="header" href="#vis√£o-do-usu√°rio">Vis√£o do usu√°rio</a></h2>
<h3 id="cadastro-de-usu√°rios-no-sistema"><a class="header" href="#cadastro-de-usu√°rios-no-sistema">Cadastro de usu√°rios no sistema</a></h3>
<ul>
<li>Como um usu√°rio visitante, quero preencher um formul√°rio de cadastro fornecendo minhas informa√ß√µes (nome, e-mail, senha, telefone), para que eu possa criar uma conta no sistema e acessar todas as funcionalidades exclusivas para usu√°rios cadastrados.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cadastro-de-usu√°rios-no-sistema-1"><a class="header" href="#cadastro-de-usu√°rios-no-sistema-1">Cadastro de usu√°rios no sistema</a></h1>
<h3 id="criar-conex√£o-com-banco-de-dados-via-pdo-exemplo-do-projeto-conex"><a class="header" href="#criar-conex√£o-com-banco-de-dados-via-pdo-exemplo-do-projeto-conex">Criar conex√£o com banco de dados via PDO (<em>exemplo do projeto conex</em>)</a></h3>
<p>Arquivo: t04-db/database.php</p>
<pre><code class="language-php">
class Database
{
    private static $instance = null;
    private $conn;

    private function __construct()
    {
        $config = require __DIR__ . '/config.php';

        if (!isset($config['database']['host'], $config['database']['port'], $config['database']['username'], $config['database']['password'], $config['database']['dbname'])) {
            throw new Exception("Configura√ß√£o do banco de dados incompleta");
        }

        $dsn = "mysql:host={$config['database']['host']};port={$config['database']['port']};dbname={$config['database']['dbname']};charset=utf8mb4";

        try {
            $this-&gt;conn = new PDO($dsn, $config['database']['username'], $config['database']['password'], [
                PDO::ATTR_ERRMODE =&gt; PDO::ERRMODE_EXCEPTION,
                PDO::ATTR_DEFAULT_FETCH_MODE =&gt; PDO::FETCH_ASSOC
            ]);
        } catch (PDOException $e) {
            throw new Exception("Falha na conex√£o com o banco de dados: " . $e-&gt;getMessage());
        }
    }

    public static function getInstance()
    {
        if (self::$instance === null) {
            self::$instance = new self();
        }
        return self::$instance;
    }

    public function getConnection()
    {
        return $this-&gt;conn;
    }
}
</code></pre>
<p><em>C√≥digo respons√°vel por estabelecer a conex√£o com o banco de dados.</em></p>
<p>No exemplo apresentado, a classe "Database" √© implementada utilizando o design pattern "Singleton". Esse pattern tem como objetivo garantir que exista apenas uma inst√¢ncia da classe durante o tempo de execu√ß√£o da aplica√ß√£o, facilitando o gerenciamento e o reuso da conex√£o com o banco de dados.</p>
<h3 id="observa√ß√µes"><a class="header" href="#observa√ß√µes">Observa√ß√µes</a></h3>
<hr />
<pre><code class="language-php">$config = require __DIR__ . '/config.php';
</code></pre>
<p><em>Aqui, o c√≥digo carrega um arquivo chamado config.php que cont√©m as configura√ß√µes do banco de dados.</em></p>
<pre><code class="language-php">if (!isset($config['database']['host'], $config['database']['port'], $config['database']['username'], $config['database']['password'], $config['database']['dbname'])) {
            throw new Exception("Configura√ß√£o do banco de dados incompleta");
        }
</code></pre>
<p><em>Aqui, o c√≥digo verifica se todas as chaves necess√°rias (host, port, username, password, dbname) existem no array $config['database'].</em></p>
<pre><code class="language-php"> $dsn = "mysql:host={$config['database']['host']};port={$config['database']['port']};dbname={$config['database']['dbname']};charset=utf8mb4";
</code></pre>
<p><em>O DSN √© a string usada pelo PDO para conectar ao banco de dados.</em></p>
<p><em>Host (<code>host</code>), Porta (<code>port</code>), Nome do banco (<code>dbname</code>), Charset (<code>utf8mb4</code>)</em></p>
<pre><code class="language-php">try {
    $this-&gt;conn = new PDO($dsn, $config['database']['username'], $config['database']['password'], [
        PDO::ATTR_ERRMODE =&gt; PDO::ERRMODE_EXCEPTION,
        PDO::ATTR_DEFAULT_FETCH_MODE =&gt; PDO::FETCH_ASSOC
    ]);
} catch (PDOException $e) {
    throw new Exception("Falha na conex√£o com o banco de dados: " . $e-&gt;getMessage());
}
</code></pre>
<p><em>Aqui, o c√≥digo tenta criar uma conex√£o com o banco de dados usando a classe PDO.</em></p>
<hr />
<p>Arquivo: t04-db/config.php</p>
<pre><code class="language-php">&lt;?php
return [
    'database' =&gt; [
        'host' =&gt; 'localhost',
        'port' =&gt; '3306',
        'username' =&gt; 'root',
        'password' =&gt; '',
        'dbname' =&gt; 'conex'
    ]
];
</code></pre>
<blockquote>
<p><strong>üö® Para usu√°rios de XAMPP:</strong></p>
<ul>
<li>Teste e Valida√ß√£o:</li>
</ul>
<ol>
<li>Salve o arquivo <code>database.php</code> no diret√≥rio do seu servidor (htdocs no XAMPP).</li>
<li>Acesse <code>http://localhost/database.php</code> no navegador.</li>
<li>Caso a conex√£o seja bem-sucedida, a p√°gina ficar√° em branco.</li>
</ol>
</blockquote>
<h3 id="implementar-backend-da-view-signupphp-exemplo-do-projeto-conex"><a class="header" href="#implementar-backend-da-view-signupphp-exemplo-do-projeto-conex">Implementar backend da view "signup.php" (<em>exemplo do projeto conex</em>)</a></h3>
<p>Arquivo: t04-db\view\signup.php</p>
<pre><code class="language-html">    &lt;form class="form-group" method="POST" action="../src/post-user.php"&gt;
      &lt;div class="icon"&gt;
        &lt;img src="../public/img/logo.svg" alt="logo" class="logo" /&gt;
      &lt;/div&gt;

      &lt;!-- resto do c√≥digo... --&gt;
</code></pre>
<p><em>Com esssa altera√ß√£o o form de cadastro agora est√° referenciado ao codigo de controle de cadastro de usu√°rios, seguido do verbo http POST</em></p>
<hr />
<p>Arquivo: Arquivo: t04-db\src\post-user.php</p>
<pre><code class="language-php">&lt;?php

require_once __DIR__ . '/../database.php';
require_once __DIR__ . '/users.php';

if ($_SERVER["REQUEST_METHOD"] == "POST") {
    $name = trim($_POST['name']);
    $phone = trim($_POST['phone']);
    $email = trim($_POST['email']);
    $password = $_POST['password'];
    $password_confirm = $_POST['password-confirm'];

    if (empty($name) || empty($phone) || empty($email) || empty($password) || empty($password_confirm)) {
        $_SESSION['error'] = "Todos os campos s√£o obrigat√≥rios!";
        header("Location: /view/signup.php?error=todos-os-campos-obrigatorios");
        exit();
    }

    if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
        $_SESSION['error'] = "Email inv√°lido!";
        header("Location: /view/signup.php?error=email-invalido");
        exit();
    }

    if ($password !== $password_confirm) {
        $_SESSION['error'] = "As senhas n√£o coincidem!";
        header("Location: /view/signup.php?error=confirma√ß√£o-de-senha-diferente");
        exit();
    }

    $database = Database::getInstance();
    $users = new Users($database);

    if ($users-&gt;checkEmailExists($email)) {
        $_SESSION['error'] = "Este email j√° est√° registrado!";
        header("Location: /view/signup.php?error=email-ja-registrado");
        exit();
    }

    $password_hash = password_hash($password, PASSWORD_ARGON2I);

    if ($users-&gt;createUser($name, $email, $password_hash, $phone)) {
        $_SESSION['success'] = "Usu√°rio cadastrado com sucesso!";
        header("Location: /");
        exit();
    } else {
        $_SESSION['error'] = "Erro ao cadastrar o usu√°rio!";
        header("Location: /view/signup.php?error=erro-ao-cadastrar-usuario");
        exit();
    }
}
</code></pre>
<p>Aqui, o c√≥digo processa o formul√°rio de cadastro de usu√°rios (<code>signup.php</code>) enviado via m√©todo POST. Ele valida os dados recebidos, verifica se o e-mail j√° est√° cadastrado, cria um novo usu√°rio no banco de dados e redireciona o usu√°rio com mensagens de sucesso ou erro.</p>
<p><strong>O objetivo principal deste c√≥digo √©:</strong></p>
<ol>
<li>
<p>Processar o formul√°rio de cadastro de usu√°rios.</p>
</li>
<li>
<p>Validar os dados fornecidos pelo usu√°rio (campos obrigat√≥rios, formato de e-mail, confirma√ß√£o de senha).</p>
</li>
<li>
<p>Verificar se o e-mail j√° est√° cadastrado no banco de dados.</p>
</li>
<li>
<p>Criar um novo usu√°rio no banco de dados com os dados fornecidos.</p>
</li>
<li>
<p>Redirecionar o usu√°rio com feedback adequado (sucesso ou erro).</p>
</li>
</ol>
<hr />
<p>Arquivo: t04-db\src\users.php</p>
<pre><code class="language-php">class Users
{
    private $db;

    public function __construct(Database $db)
    {
        $this-&gt;db = $db-&gt;getConnection();
    }

    public function createUser($username, $email, $password, $phone)
    {
        $sql = "INSERT INTO users (username, email, password_hash, phone) VALUES (:username, :email, :password_hash, :phone)";
        $stmt = $this-&gt;db-&gt;prepare($sql);
        return $stmt-&gt;execute([
            ':username' =&gt; $username,
            ':email' =&gt; $email,
            ':password_hash' =&gt; $password,
            ':phone' =&gt; $phone
        ]);
    }

    public function checkEmailExists($email)
    {
        $sql = "SELECT id FROM users WHERE email = :email";
        $stmt = $this-&gt;db-&gt;prepare($sql);
        $stmt-&gt;execute([':email' =&gt; $email]);
        return $stmt-&gt;fetch() ? true : false;
    }
}
</code></pre>
<p><em>Aqui, o c√≥digo define uma classe chamada Users que tem como objetivo gerenciar opera√ß√µes relacionadas a usu√°rios no banco de dados, especificamente a cria√ß√£o de novos usu√°rios e a verifica√ß√£o se um e-mail j√° est√° cadastrado.</em></p>
<h2 id="conclus√£o"><a class="header" href="#conclus√£o">Conclus√£o</a></h2>
<p>Este t√≥pico abordou de maneira pr√°tica a cria√ß√£o, conex√£o e cadastro de um usu√°rio em um banco de dados.</p>
<p>O exemplo demonstrou como configurar a conex√£o ao banco de dados utilizando <code>PDO</code> no <code>PHP</code>, garantindo que a comunica√ß√£o entre o servidor e o banco seja segura e eficiente. Al√©m disso, o c√≥digo abordou o processo de cadastro de um novo usu√°rio, incluindo valida√ß√µes de entrada, como a verifica√ß√£o de e-mail e confirma√ß√£o de senha, bem como a utiliza√ß√£o de hashing para armazenamento seguro da senha no banco de dados.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="boas-pr√°ticas-para-desenvolvimento-php-com-gitflow"><a class="header" href="#boas-pr√°ticas-para-desenvolvimento-php-com-gitflow">Boas Pr√°ticas para Desenvolvimento PHP com GitFlow</a></h1>
<p>O uso de GitFlow em projetos PHP ajuda a estruturar o desenvolvimento de forma organizada e colaborativa. No entanto, para garantir um fluxo de trabalho eficiente, √© essencial adotar boas pr√°ticas que mantenham o c√≥digo padronizado, seguro e funcional.</p>
<h2 id="organiza√ß√£o-do-c√≥digo-php-no-reposit√≥rio"><a class="header" href="#organiza√ß√£o-do-c√≥digo-php-no-reposit√≥rio">Organiza√ß√£o do C√≥digo PHP no Reposit√≥rio</a></h2>
<p><strong>Estrutura recomendada:</strong></p>
<pre><code class="language-php">/project-root
‚îÇ‚îÄ‚îÄ app/              # C√≥digo principal do aplicativo
‚îÇ‚îÄ‚îÄ config/           # Arquivos de configura√ß√£o
‚îÇ‚îÄ‚îÄ public/           # Pasta p√∫blica, incluindo index.php
‚îÇ‚îÄ‚îÄ resources/        # Views, assets, templates
‚îÇ‚îÄ‚îÄ tests/            # Testes unit√°rios e funcionais
‚îÇ‚îÄ‚îÄ vendor/           # Depend√™ncias do Composer
‚îÇ‚îÄ‚îÄ .env.example      # Exemplo do arquivo de vari√°veis de ambiente
‚îÇ‚îÄ‚îÄ composer.json     # Depend√™ncias do projeto
‚îÇ‚îÄ‚îÄ README.md         # Documenta√ß√£o do projeto
</code></pre>
<p>Manter um README atualizado tamb√©m √© essencial para que novos desenvolvedores compreendam rapidamente o projeto.</p>
<h2 id="assim-como-foi-explicado-sobre-a-aplica√ß√£o-do-gitflow-com-html-e-css-o-processo-em-php-segue-a-mesma-l√≥gica"><a class="header" href="#assim-como-foi-explicado-sobre-a-aplica√ß√£o-do-gitflow-com-html-e-css-o-processo-em-php-segue-a-mesma-l√≥gica">Assim como foi explicado sobre a aplica√ß√£o do GitFlow com HTML e CSS, o processo em PHP segue a mesma l√≥gica:</a></h2>
<ul>
<li>Cria√ß√£o das branches <code>main</code> e <code>develop</code>.</li>
<li>Desenvolvimento de <code>features</code>.</li>
<li>Cria√ß√£o de <code>releases</code>.</li>
<li>Aplica√ß√£o de <code>hotfixes</code>.</li>
<li>Realiza√ß√£o de <code>pull requests</code>.</li>
</ul>
<h2 id="como-aplicar-o-gitflow"><a class="header" href="#como-aplicar-o-gitflow"><a href="./t03-3.4-gitflow-html-css.html">Como aplicar o GitFlow.</a></a></h2>
<div style="break-before: page; page-break-before: always;"></div><h1 id="documenta√ß√£o-1"><a class="header" href="#documenta√ß√£o-1">Documenta√ß√£o</a></h1>
<p>Abaixo est√£o alguns links para aprofundar seus conhecimentos desse t√≥pico.</p>
<h2 id="manual-do-php"><a class="header" href="#manual-do-php">Manual do php</a></h2>
<p><a href="https://www.php.net/manual/pt_BR/index.php">Visite o Google</a></p>
<h2 id="tudo-sobre-o-xampp"><a class="header" href="#tudo-sobre-o-xampp">Tudo sobre o Xampp</a></h2>
<p><a href="https://www.apachefriends.org/docs/">Visite o Google</a></p>
<h2 id="mysql"><a class="header" href="#mysql">MySQL</a></h2>
<p><a href="https://dev.mysql.com/doc/">Visite o Google</a></p>
<h2 id="instala√ß√£o"><a class="header" href="#instala√ß√£o">Instala√ß√£o</a></h2>
<p><a href="https://docs.docker.com/desktop/setup/install/windows-install/">Docker (Windows)</a>
<a href="https://docs.docker.com/desktop/setup/install/linux/ubuntu/">Docker (Ubuntu)</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sess√µes-de-usu√°rio-no-navegador"><a class="header" href="#sess√µes-de-usu√°rio-no-navegador">Sess√µes de usu√°rio no navegador</a></h1>
<p>As sess√µes s√£o um mecanismo do site que permitem que os servidores lembrem de informa√ß√µes sobre um usu√°rio ao longo de v√°rias telas, mesmo em um ambiente onde cada requisi√ß√£o HTTP √©, por si s√≥, independente e stateless.</p>
<h2 id="conceito-de-sess√£o"><a class="header" href="#conceito-de-sess√£o">Conceito de sess√£o</a></h2>
<ul>
<li>
<p>Persist√™ncia de estado:<br />
Sess√µes permitem que uma experi√™ncia personalizada seja mantida enquanto o usu√°rio navega por diferentes p√°ginas de um site, armazenando informa√ß√µes como autentica√ß√£o, prefer√™ncias e dados de intera√ß√£o.</p>
</li>
<li>
<p>ID √önico:<br />
Quando o usu√°rio acessa um site, o servidor gera um ID para essa sess√£o. Esse identificador √© usado para associar futuros requests a um conjunto espec√≠fico de dados armazenados no servidor.</p>
</li>
</ul>
<blockquote>
<p><strong>Obs: O que √© "estado" no contexto de aplica√ß√µes web?</strong>
Com "estado" nos referimos √†s informa√ß√µes que indicam a situa√ß√£o atual de um usu√°rio ou de uma aplica√ß√£o em um dado momento. Basicamente, √© o conjunto de dados que o sistema lembra sobre os usu√°rios enquanto eles navegam no site.</p>
</blockquote>
<h2 id="como-funcionam-no-navegador"><a class="header" href="#como-funcionam-no-navegador">Como funcionam no navegador</a></h2>
<ol>
<li>
<p>Cria√ß√£o e armazenamento de sess√£o:<br />
Ao acessar um site, o servidor cria uma sess√£o para o usu√°rio e envia um identificador √∫nico de sess√£o para o navegador. Esse identificador √© geralmente armazenado em um cookie.</p>
</li>
<li>
<p>Envio Autom√°tico do Cookie:<br />
Toda vez que voc√™ interage com o site, clicando em um link ou preenchendo um formul√°rio, o navegador envia o cookie junto com a requisi√ß√£o. O servidor usa o identificador do cookie para acessar ou atualizar a sess√£o e assim ajustar as informa√ß√µes conforme suas a√ß√µes.</p>
</li>
<li>
<p>Atualiza√ß√£o do estado:<br />
Toda vez que o usu√°rio interage com o site (clicando em links, submetendo formul√°rios etc.), o navegador envia o cookie contendo o identificador. O servidor utiliza esse identificador para acessar ou atualizar os dados da sess√£o, garantindo uma experi√™ncia personalizada e a persist√™ncia dos estados.</p>
</li>
<li>
<p>Seguran√ßa dos Cookies:<br />
Os cookies de sess√£o podem contar com atributos como <code>HttpOnly</code> (impede que scripts no navegador acessem o cookie, evitando ataques como o XSS) e <code>Secure</code>(permite que o cookie seja enviado em conex√µes HTTPS), que ajudam a proteger o seu conte√∫do contra ataques e asseguram que os dados s√≥ sejam transmitidos atrav√©s de conex√µes seguras.</p>
</li>
</ol>
<h2 id="conclus√£o-1"><a class="header" href="#conclus√£o-1">Conclus√£o</a></h2>
<p>Imagine que voc√™ entra em uma biblioteca onde o gar√ßom te entrega um crach√° com um n√∫mero √∫nico (seu ID de sess√£o). Cada vez que voc√™ pede um livro (faz uma requisi√ß√£o), voc√™ mostra o crach√°. Assim, o bibliotec√°rio sabe quais livros voc√™ j√° pegou ou se voc√™ tem alguma restri√ß√£o. No nosso caso, o navegador usa um cookie com o ID da sua sess√£o para que o servidor lembre de voc√™ sempre que visit√°-lo.</p>
<p>Este mecanismo de sess√µes torna poss√≠vel que, mesmo que o HTTP n√£o lembre de nada entre as requisi√ß√µes (seja stateless), o site possa manter uma experi√™ncia personalizada e cont√≠nua para cada usu√°rio.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sess√µes-em-php"><a class="header" href="#sess√µes-em-php">Sess√µes em PHP</a></h1>
<h2 id="o-que-s√£o-sess√µes-em-php"><a class="header" href="#o-que-s√£o-sess√µes-em-php">O que s√£o sess√µes em PHP?</a></h2>
<p>Uma sess√£o no PHP, assim como visto no t√≥pico anterior, √© uma maneira de armazenar dados tempor√°rios enquanto o usu√°rio navega entre as p√°ginas de um site. A sess√£o √© iniciada no servidor e um identificador √∫nico √© gerado para cada usu√°rio. Este identificador √© armazenado no navegador como um cookie por exemplo, permitindo que o PHP associe o usu√°rio a uma sess√£o espec√≠fica em futuras requisi√ß√µes.</p>
<h2 id="como-iniciar-uma-sess√£o-com-php"><a class="header" href="#como-iniciar-uma-sess√£o-com-php">Como iniciar uma sess√£o com PHP</a></h2>
<p>Para utilizar sess√µes em PHP, voc√™ deve iniciar a sess√£o com a fun√ß√£o <code>session_start()</code>. Essa fun√ß√£o deve ser chamada no in√≠cio de cada p√°gina PHP onde voc√™ deseja acessar ou manipular os dados da sess√£o. Lembre-se de que <code>session_start()</code> deve ser chamada antes de qualquer sa√≠da HTML ou echo, caso contr√°rio, ocorrer√° um erro.</p>
<pre><code class="language-php">&lt;?php
session_start();
?&gt;
</code></pre>
<h2 id="armazenando-dados-na-sess√£o-com-php"><a class="header" href="#armazenando-dados-na-sess√£o-com-php">Armazenando dados na sess√£o com PHP</a></h2>
<p>Ap√≥s iniciar a sess√£o, voc√™ pode armazenar dados utilizando a superglobal <code>$_SESSION</code>, que √© um array associativo. Isso permite que voc√™ guarde qualquer tipo de dado durante a sess√£o, como informa√ß√µes do usu√°rio, configura√ß√µes, prefer√™ncias, entre outros.</p>
<p><strong>Exemplo:</strong></p>
<pre><code class="language-php">$_SESSION['user_id'] = 123;  // Armazena o ID do usu√°rio
$_SESSION['username'] = 'Joao';  // Armazena o nome de usu√°rio
</code></pre>
<p><em>Esses dados ficam acess√≠veis em qualquer p√°gina onde a sess√£o esteja iniciada.</em></p>
<h2 id="acessando-dados-da-sess√£o-com-php"><a class="header" href="#acessando-dados-da-sess√£o-com-php">Acessando dados da sess√£o com PHP</a></h2>
<p>Voc√™ pode acessar os dados armazenados na sess√£o utilizando a superglobal <code>$_SESSION</code>. Quando voc√™ armazena um valor, basta referenci√°-lo pelo nome da chave definida.</p>
<p><strong>Exemplo:</strong></p>
<pre><code class="language-php">echo 'ID do usu√°rio: ' . $_SESSION['user_id'];
echo 'Nome de usu√°rio: ' . $_SESSION['username'];
</code></pre>
<p><em>Esses valores estar√£o dispon√≠veis enquanto a sess√£o estiver ativa.</em></p>
<h2 id="modificando-dados-da-sess√£o-com-php"><a class="header" href="#modificando-dados-da-sess√£o-com-php">Modificando dados da sess√£o com PHP</a></h2>
<p>Os dados armazenados na sess√£o podem ser modificados a qualquer momento. Basta atribuir um novo valor √† chave correspondente na superglobal <code>$_SESSION</code>.</p>
<p><strong>Exemplo:</strong></p>
<pre><code class="language-php">$_SESSION['username'] = 'Maria';  // Modificando o nome de usu√°rio

</code></pre>
<h2 id="destruindo-a-sess√£o-com-php"><a class="header" href="#destruindo-a-sess√£o-com-php">Destruindo a sess√£o com PHP</a></h2>
<p>Quando voc√™ n√£o precisa mais dos dados da sess√£o ou quando o usu√°rio sai da aplica√ß√£o, voc√™ pode destruir a sess√£o. Isso pode ser feito de duas formas</p>
<ul>
<li>Limpar todos os dados da sess√£o: A fun√ß√£o <code>session_unset()</code> remove todas as vari√°veis de sess√£o.</li>
</ul>
<pre><code class="language-php">session_unset();  // Limpa todos os dados da sess√£o

</code></pre>
<ul>
<li>Destruir a sess√£o completamente: A fun√ß√£o session_destroy() encerra a sess√£o e apaga os dados no servidor. No entanto, ela n√£o apaga as vari√°veis de sess√£o imediatamente, por isso √© comum utilizar session_unset() antes de chamar session_destroy().</li>
</ul>
<pre><code class="language-php">session_destroy();  // Destroi a sess√£o completamente
</code></pre>
<h2 id="gerenciamento-de-tempo-de-sess√£o-com-php"><a class="header" href="#gerenciamento-de-tempo-de-sess√£o-com-php">Gerenciamento de tempo de sess√£o com PHP</a></h2>
<p>O PHP permite controlar o tempo de vida da sess√£o, tanto no lado do servidor quanto no lado do usu√°rio.</p>
<ul>
<li>Tempo de expira√ß√£o da sess√£o: Para definir o tempo de expira√ß√£o da sess√£o, voc√™ pode configurar a diretiva <code>session.gc_maxlifetime</code> no arquivo <code>php.in</code>. Essa configura√ß√£o determina por quanto tempo os dados da sess√£o podem ficar armazenados no servidor antes de serem considerados expirados.</li>
</ul>
<p>No PHP, tamb√©m √© poss√≠vel configurar a expira√ß√£o por meio do c√≥digo, alterando as configura√ß√µes da sess√£o:</p>
<pre><code class="language-php">ini_set('session.gc_maxlifetime', 3600);  // Define 1 hora como tempo de expira√ß√£o

</code></pre>
<ul>
<li>Controle de tempo no lado do cliente: O PHP armazena o identificador da sess√£o no cliente por meio de um cookie. Voc√™ pode configurar o tempo de expira√ß√£o deste cookie utilizando <code>session.cookie_lifetime</code>.</li>
</ul>
<pre><code class="language-php">ini_set('session.cookie_lifetime', 3600);  // Expira√ß√£o do cookie em 1 hora
</code></pre>
<p><strong>Quando se trabalha com sess√µes, √© importante implementar medidas de seguran√ßa para evitar ataques como fixa√ß√£o de sess√£o (session fixation) ou roubo de sess√£o. Algumas boas pr√°ticas incluem:</strong></p>
<ul>
<li>Regenera√ß√£o do ID da sess√£o: A cada novo login ou a√ß√£o importante, √© recomendado regenerar o ID da sess√£o para dificultar a captura de uma sess√£o antiga ou comprometida.</li>
</ul>
<pre><code class="language-php">session_regenerate_id(true);  // Regenera o ID da sess√£o

</code></pre>
<ul>
<li>Uso de cookies seguros: Para garantir que o cookie da sess√£o seja enviado apenas por conex√µes seguras (HTTPS), ative a op√ß√£o <code>session.cookie_secure</code> no <code>php.ini</code>.</li>
</ul>
<h2 id="conclus√£o-2"><a class="header" href="#conclus√£o-2">Conclus√£o</a></h2>
<p>As sess√µes s√£o um recurso fundamental em PHP para armazenar e gerenciar informa√ß√µes durante a navega√ß√£o do usu√°rio. Elas s√£o amplamente utilizadas para funcionalidades como autentica√ß√£o de usu√°rios, prefer√™ncias de navega√ß√£o e manuten√ß√£o de dados entre p√°ginas. Com o uso adequado das fun√ß√µes de sess√£o, voc√™ pode garantir uma experi√™ncia de usu√°rio eficiente e segura.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="conex---t√≥pico-05"><a class="header" href="#conex---t√≥pico-05">Conex - t√≥pico 05</a></h1>
<blockquote>
<p>Tarefas:</p>
<ul>
<li>Implementar Backend para autentica√ß√£o de usu√°rios registrados.</li>
</ul>
</blockquote>
<blockquote>
<p>Funcionalidades:</p>
<ul>
<li>Login no sistema</li>
</ul>
</blockquote>
<h2 id="vis√£o-do-usu√°rio-1"><a class="header" href="#vis√£o-do-usu√°rio-1">Vis√£o do usu√°rio</a></h2>
<h3 id="login-no-sistema"><a class="header" href="#login-no-sistema">Login no sistema</a></h3>
<ul>
<li>Como um usu√°rio cadastrado, quero preencher o formul√°rio de login, para que eu me autenticar no sistema e acessar todas as funcionalidades exclusivas para usu√°rios logados.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="login-no-sistema-exemplo-do-nosso-projeto-conex"><a class="header" href="#login-no-sistema-exemplo-do-nosso-projeto-conex">Login no sistema (<em>exemplo do nosso projeto conex</em>)</a></h1>
<h2 id="nosso-exemplo-ser√°-composto-por-tr√™s-p√°ginas-principais"><a class="header" href="#nosso-exemplo-ser√°-composto-por-tr√™s-p√°ginas-principais">Nosso exemplo ser√° composto por tr√™s p√°ginas principais:</a></h2>
<ul>
<li>
<p><code>login.php</code>: P√°gina onde o usu√°rio insere suas credenciais (email de usu√°rio e senha).</p>
</li>
<li>
<p><code>profile.php</code>: P√°gina restrita, acessada somente ap√≥s o login bem-sucedido.</p>
</li>
<li>
<p><code>login-user.php</code>: P√°gina respons√°vel por processar os dados de login.</p>
</li>
</ul>
<h2 id="vamos-utilizar-a-conex√£o-e-a-tabela-users-criada-no-exemplo-de-configura√ß√£o-do-servidor-e-banco-de-dados"><a class="header" href="#vamos-utilizar-a-conex√£o-e-a-tabela-users-criada-no-exemplo-de-configura√ß√£o-do-servidor-e-banco-de-dados">Vamos utilizar a conex√£o e a tabela <code>users</code> criada no <a href="./t04-4.3-php-gitflow.html">exemplo de configura√ß√£o do servidor e banco de dados</a>.</a></h2>
<h2 id="p√°gina-de-login-loginphp"><a class="header" href="#p√°gina-de-login-loginphp">P√°gina de Login (<code>login.php</code>)</a></h2>
<p>Na p√°gina de login, o usu√°rio ser√° solicitado a inserir seu email de e senha. Se as credenciais estiverem corretas, o sistema iniciar√° uma sess√£o e redirecionar√° o usu√°rio para a p√°gina restrita (<code>profile.php</code>), se n√£o ser√° redirecionado novamente para o login.php com a mensagem de erro no query params.</p>
<p>Arquivo: t05-session-php\view\login.php</p>
<pre><code class="language-html">    &lt;form class="form-group" method="POST" action="../src/login-user.php"&gt;
        &lt;div class="form-control"&gt;
            &lt;label for="email"&gt;Email&lt;/label&gt;
            &lt;input type="email" id="email" name="email" required /&gt;
        &lt;/div&gt;

        &lt;!--resto do c√≥digo--&gt;
</code></pre>
<p><em>Com esssa altera√ß√£o o form de login agora est√° referenciado ao c√≥digo de controle de login de usu√°rios, seguido do verbo http POST</em></p>
<hr />
<p>Arquivo: t05-session-php\src\login-user.php</p>
<pre><code class="language-php">&lt;?php
session_start();

require_once __DIR__ . '/../database.php';
require_once __DIR__ . '/users.php';

if ($_SERVER["REQUEST_METHOD"] == "POST") {
    $email = trim($_POST['email']);
    $password = trim($_POST['password']);

    if (empty($email) || empty($password)) {
        $_SESSION['error'] = "Todos os campos s√£o obrigat√≥rios!";
        header("Location: /view/login.php?error=todos-os-campos-obrigatorios");
        exit();
    }

    if (!filter_var($email, FILTER_VALIDATE_EMAIL)) {
        $_SESSION['error'] = "Formato de email inv√°lido!";
        header("Location: /view/login.php?error=formato-de-email-invalido");
        exit();
    }

    $database = Database::getInstance();
    $users = new Users($database);

    $user = $users-&gt;getUserByEmail($email);

    if ($user &amp;&amp; password_verify($password, $user['password_hash'])) {
        $id = $_SESSION['user_id'] = $user['id'];
        $_SESSION['user_name'] = $user['username'];
        $_SESSION['user_email'] = $user['email'];
        $_SESSION['LAST_ACTIVITY'] = time();
        $_SESSION['success'] = "Login realizado com sucesso!";

        header("Location: ../view/profile.php?id={$id}&amp;success=login-realizado-com-sucesso");
        exit();
    } else {
        $_SESSION['error'] = "Credenciais inv√°lidas!";
        header("Location: /view/login.php?error=credencial-errada");
        exit();
    }
}
</code></pre>
<p><em>Este c√≥digo PHP trata o processo de autentica√ß√£o de usu√°rios com base no formul√°rio de login <code>login.php</code>. Ele verifica se o usu√°rio preencheu o formul√°rio corretamente e valida as credenciais.</em></p>
<hr />
<h3 id="observa√ß√µes-1"><a class="header" href="#observa√ß√µes-1">Observa√ß√µes</a></h3>
<pre><code class="language-php">session_start();
</code></pre>
<p><em>Inicia uma nova sess√£o ou retoma a existente. Isso permite armazenar informa√ß√µes do usu√°rio, como dados de login, em vari√°veis de sess√£o.</em></p>
<hr />
<pre><code class="language-php">require_once __DIR__ . '/../database.php';
require_once __DIR__ . '/users.php';
</code></pre>
<p><em>Esses arquivos s√£o inclu√≠dos para permitir o acesso ao banco de dados e manipula√ß√£o de usu√°rios.</em></p>
<hr />
<pre><code class="language-php">if ($_SERVER["REQUEST_METHOD"] == "POST")
</code></pre>
<p><em>Verifica se o m√©todo de requisi√ß√£o √© POST, ou seja, se o formul√°rio foi enviado.</em></p>
<hr />
<pre><code class="language-php"> $email = trim($_POST['email']);
 $password = trim($_POST['password']);
</code></pre>
<p><em>O c√≥digo coleta e "limpa" os valores do formul√°rio com <code>trim()</code> para remover espa√ßos extras.</em></p>
<hr />
<pre><code class="language-php">if (empty($email) || empty($password))
</code></pre>
<p><em>Verifica se os campos de email e senha est√£o vazios e, se sim, define uma mensagem de erro na sess√£o e redireciona o usu√°rio de volta para a p√°gina de login.</em></p>
<hr />
<pre><code class="language-php">if ($user &amp;&amp; password_verify($password, $user['password_hash']))
</code></pre>
<p><em>Se o usu√°rio for encontrado no banco de dados e a senha fornecida corresponder √† senha armazenada (com o <code>password_hash</code>), a autentica√ß√£o √© bem-sucedida.</em></p>
<hr />
<pre><code class="language-php"> $id = $_SESSION['user_id'] = $user['id'];
        $_SESSION['user_name'] = $user['username'];
        $_SESSION['user_email'] = $user['email'];
        $_SESSION['LAST_ACTIVITY'] = time();
        $_SESSION['success'] = "Login realizado com sucesso!";

        header("Location: ../view/profile.php?id={$id}&amp;success=login-realizado-com-sucesso");
        exit();
</code></pre>
<ul>
<li>
<p>Se o login for bem-sucedido, as vari√°veis de sess√£o s√£o definidas (<code>$_SESSION['user_id']</code>, <code>$_SESSION['user_name']</code>, etc.) com informa√ß√µes do usu√°rio.</p>
</li>
<li>
<p>Define tamb√©m o tempo de atividade da sess√£o com <code>$_SESSION['LAST_ACTIVITY'] = time();</code>.</p>
</li>
<li>
<p>Exibe uma mensagem de sucesso e redireciona o usu√°rio para a p√°gina de perfil (<code>profile.php</code>).</p>
</li>
</ul>
<hr />
<pre><code class="language-php">else {
        $_SESSION['error'] = "Credenciais inv√°lidas!";
        header("Location: /view/login.php?error=credencial-errada");
        exit();
    }

</code></pre>
<p><em>Se a senha n√£o corresponder ou o usu√°rio n√£o for encontrado, o c√≥digo define uma mensagem de erro na sess√£o e redireciona o usu√°rio de volta para a p√°gina de login com um aviso de "Credenciais inv√°lidas".</em></p>
<h2 id="como-mencionado-anteriormente-o-login-do-usu√°rio-est√°-inclu√≠do-em-dois-arquivos-o-database-respons√°vel-pela-conex√£o-com-o-banco-de-dados-e-o-usersphp-vamos-entender-o-que-est√°-sendo-utilizado-na-classe-users-para-realizar-o-login"><a class="header" href="#como-mencionado-anteriormente-o-login-do-usu√°rio-est√°-inclu√≠do-em-dois-arquivos-o-database-respons√°vel-pela-conex√£o-com-o-banco-de-dados-e-o-usersphp-vamos-entender-o-que-est√°-sendo-utilizado-na-classe-users-para-realizar-o-login">Como mencionado anteriormente, o login do usu√°rio est√° inclu√≠do em dois arquivos: o <code>database</code>, respons√°vel pela conex√£o com o banco de dados, e o <code>users.php</code>. Vamos entender o que est√° sendo utilizado na classe users para realizar o login.</a></h2>
<p>Arquivo: t05-session-php\src\users.php</p>
<pre><code class="language-php">public function getUserByEmail($email)
    {
        $sql = "SELECT id, username, email, password_hash, phone FROM users WHERE email = :email";
        $stmt = $this-&gt;db-&gt;prepare($sql);
        $stmt-&gt;execute([':email' =&gt; $email]);
        return $stmt-&gt;fetch();
    }
</code></pre>
<p><em>Essa fun√ß√£o busca um usu√°rio no banco de dados com base no email fornecido. Ela retorna os dados do usu√°rio (como ID, nome de usu√°rio, email, senha e telefone) caso o email exista no banco.</em></p>
<p><strong>O c√≥digo de login usa essa fun√ß√£o com a linha:</strong></p>
<pre><code class="language-php">$user = $users-&gt;getUserByEmail($email);
</code></pre>
<p><em>Ele chama <code>getUserByEmail()</code> para verificar se um usu√°rio existe com o email fornecido no formul√°rio. Se um usu√°rio for encontrado, seus dados (incluindo a senha) s√£o retornados e usados para verificar a senha fornecida.</em></p>
<h2 id="conclus√£o-3"><a class="header" href="#conclus√£o-3">Conclus√£o</a></h2>
<p>Este exemplo b√°sico demonstra como implementar um sistema de login com PHP usando sess√µes. O PHP facilita a cria√ß√£o de sess√µes com vari√°veis globais, permitindo que voc√™ armazene dados do usu√°rio enquanto ele navega pelas p√°ginas, tornando a experi√™ncia fl√∫ida.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="boas-pr√°ticas-para-sess√µes-em-php"><a class="header" href="#boas-pr√°ticas-para-sess√µes-em-php">Boas Pr√°ticas para Sess√µes em PHP</a></h1>
<p>As sess√µes em PHP s√£o uma ferramenta poderosa e amplamente utilizada para armazenar e gerenciar informa√ß√µes de usu√°rios em uma aplica√ß√£o web. No entanto, como qualquer outro recurso, seu uso inadequado pode trazer s√©rios riscos de seguran√ßa. Vamos abordar algumas boas pr√°ticas para o uso de sess√µes, visando garantir a seguran√ßa, efici√™ncia e confiabilidade.</p>
<h2 id="iniciar-a-sess√£o-de-forma-segura"><a class="header" href="#iniciar-a-sess√£o-de-forma-segura">Iniciar a Sess√£o de Forma Segura</a></h2>
<ul>
<li>Iniciar a sess√£o no in√≠cio do script: O comando <code>session_start()</code> deve ser chamado antes de qualquer sa√≠da para o navegador (como echo, HTML, ou espa√ßos em branco), caso contr√°rio, ocorrer√° um erro.</li>
</ul>
<hr />
<ul>
<li>Verificar a presen√ßa de dados de sess√£o: Sempre que um usu√°rio tentar acessar uma p√°gina restrita, verifique se a sess√£o foi iniciada e se os dados necess√°rios est√£o presentes.</li>
</ul>
<pre><code class="language-php">session_start();
if (!isset($_SESSION['user_id'])) {
    header("Location: login.php");
    exit();
}
</code></pre>
<hr />
<ul>
<li>Regenera√ß√£o do ID da Sess√£o: Ap√≥s o login ou em a√ß√µes cr√≠ticas, √© recomend√°vel regenerar o ID da sess√£o para evitar ataques de fixa√ß√£o de sess√£o (session fixation). Isso impede que um atacante use um ID de sess√£o v√°lido para se passar por outro usu√°rio.</li>
</ul>
<pre><code class="language-php">session_regenerate_id(true);
</code></pre>
<h2 id="armazenar-dados-sens√≠veis-de-forma-segura"><a class="header" href="#armazenar-dados-sens√≠veis-de-forma-segura">Armazenar Dados Sens√≠veis de Forma Segura</a></h2>
<ul>
<li>Evitar armazenar dados sens√≠veis diretamente: Nunca armazene dados como senhas ou informa√ß√µes confidenciais diretamente na sess√£o. Em vez disso, armazene apenas informa√ß√µes que identificam o usu√°rio (por exemplo, um ID de usu√°rio) e recupere os dados sens√≠veis no banco de dados conforme necess√°rio.</li>
</ul>
<pre><code class="language-php">$_SESSION['user_id'] = $user['id'];
</code></pre>
<hr />
<ul>
<li>Usar criptografia: Se for necess√°rio armazenar dados sens√≠veis na sess√£o (como prefer√™ncias ou tokens), utilize criptografia para proteger essas informa√ß√µes. O PHP oferece fun√ß√µes como <code>openssl_encrypt</code> para criptografar dados antes de armazen√°-los.</li>
</ul>
<pre><code class="language-php">$_SESSION['encrypted_data'] = openssl_encrypt($data, 'aes-256-cbc', $key, 0, $iv);
</code></pre>
<h2 id="configurar-sess√µes-para-funcionar-apenas-em-conex√µes-seguras-https"><a class="header" href="#configurar-sess√µes-para-funcionar-apenas-em-conex√µes-seguras-https">Configurar Sess√µes para Funcionar Apenas em Conex√µes Seguras (HTTPS)</a></h2>
<ul>
<li>Definir cookies de sess√£o como seguros: Use a op√ß√£o <code>session.cookie_secure</code> para garantir que o cookie de sess√£o seja transmitido apenas por HTTPS.</li>
</ul>
<pre><code class="language-php">ini_set('session.cookie_secure', 1);
</code></pre>
<hr />
<ul>
<li>For√ßar sess√µes em HTTPS: Para garantir que todas as p√°ginas de login e √°reas sens√≠veis sejam carregadas por HTTPS, defina uma pol√≠tica de seguran√ßa que redirecione os usu√°rios automaticamente para HTTPS, caso estejam acessando via HTTP.</li>
</ul>
<pre><code class="language-php">if ($_SERVER['HTTPS'] != 'on') {
    header('Location: https://' . $_SERVER['HTTP_HOST'] . $_SERVER['REQUEST_URI']);
    exit();
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="documenta√ß√£o-2"><a class="header" href="#documenta√ß√£o-2">Documenta√ß√£o</a></h1>
<h2 id="alguns-links-para-aprimorar-o-conhecimento-sobre-sess√µes"><a class="header" href="#alguns-links-para-aprimorar-o-conhecimento-sobre-sess√µes">Alguns links para aprimorar o conhecimento sobre sess√µes.</a></h2>
<p><a href="https://www.php.net/manual/pt_BR/book.session.php">Manipula√ß√£o de Sess√£o com PHP</a></p>
<p><a href="https://www.php.net/manual/pt_BR/reserved.variables.session.php">$_SESSION</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="crud-com-php"><a class="header" href="#crud-com-php">CRUD com PHP</a></h1>
<h2 id="o-que-√©-crud"><a class="header" href="#o-que-√©-crud">o que √© CRUD?</a></h2>
<p>CRUD √© um acr√¥nimo para os verbos em ingl√™s: Create, Read, Update e Delete, que se referem a opera√ß√µes b√°sicas de manipula√ß√£o de dados no backend da aplica√ß√£o. O "create" refere-se a inser√ß√£o de dados no banco, o "read" √† leitura/recupera√ß√£o desses dados do banco, o "update" a atualiza√ß√£o de dados registrados e o "delete" √† dele√ß√£o destes dados. Esses verbos CRUD est√£o diretamente ligados aos verbos HTTP (GET, POST, PUT e DELETE), que s√£o usados para definir o tipo de a√ß√£o que o cliente (navegador ou outra aplica√ß√£o) deseja realizar no servidor. O client (navegador) envia uma requisi√ß√£o ao servidor, contendo algum verbo http no cabe√ßalho, o backend processa essa requisi√ß√£o (realiza alguma a√ß√£o) e envia uma resposta HTTP ao cliente, indicando o resultado desta opera√ß√£o.</p>
<p>Na comunica√ß√£o HTTP, cada requisi√ß√£o vem acompanhada de um <em>status code</em> que indica ao cliente como a opera√ß√£o ocorreu. Por exemplo, "201" (Created) √© retornado quando um recurso √© criado com sucesso, enquanto "200" (OK) confirma o sucesso da requisi√ß√£o. J√° "204" (No Content) significa que o servidor processou a requisi√ß√£o e n√£o h√° conte√∫do a retornar. Esses c√≥digos ajudam o client (navegador ou outra aplica√ß√£o) a entender se a a√ß√£o foi conclu√≠da corretamente ou se houve erro.</p>
<p>Nos cap√≠tulos anteriores vimos como inserir dados no banco com PDO, isso j√° configuraria o que chamamos de "Create" no CRUD, agora iremos abordar os demais verbos neste cap√≠tulo.</p>
<h2 id="exemplo-fict√≠cio"><a class="header" href="#exemplo-fict√≠cio">exemplo fict√≠cio</a></h2>
<pre><code class="language-php">function create() {
    echo "Inserindo dados no banco";
    http_response_code(201); //status code 201: Created
}

function read() {
    echo "Recuperando dados do banco";
    http_response_code(200); //status code 200: OK
}

function update() {
    echo "Atualizando dados no banco";
    http_response_code(200); //status code 200: OK
}

function delete() {
    echo "Deletando dados no banco";
    http_response_code(204); //status code 204: No Content
}

//A vari√°vel global "$_SERVER" recupera o m√©todo da requisi√ß√£o (GET, POST, PUT, DELETE)
$method = $_SERVER['REQUEST_METHOD'];

//Roteamento b√°sico para simular cada opera√ß√£o CRUD
switch ($method) {
    case 'POST':
        create();
        break;
    case 'GET':
        read();
        break;
    case 'PUT':
        update();
        break;
    case 'DELETE':
        delete();
        break;
}
</code></pre>
<blockquote>
<p><strong>üö® No t07-composer abordaremos na pr√°tica os conceitos de um sistema de roteamento em um projeto real</strong></p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="camadas-da-aplica√ß√£o"><a class="header" href="#camadas-da-aplica√ß√£o">Camadas da aplica√ß√£o</a></h1>
<p>No exemplo pr√°tico deste cap√≠tulo criaremos um sistema CRUD com PHP dividindo a aplica√ß√£o em camadas, para tornar o c√≥digo mais organizado e consequentemente mais f√°cil de manter a longo prazo. Aplicaremos os conceitos de Controller, DAO e View na arquitetura da nossa aplica√ß√£o. Por√©m, antes de implementar, vamos explicar o que s√£o e como se comunicam do momento em que a requisi√ß√£o chega at√© o retorno dos dados ao usu√°rio.</p>
<h2 id="controller"><a class="header" href="#controller">Controller</a></h2>
<p>Camada de controle, que recebe os dados da view (HTML), processa, faz valida√ß√µes de dados e os retorna para o DAO. Funciona como a porta de entrada das requisi√ß√µes. Recebe dados da <strong>View</strong>, valida ou transforma essa informa√ß√£o e decide o que fazer em seguida, por exemplo: criar registros ou buscar dados. Em seguida, faz chamadas ao <strong>DAO</strong> sempre que precisar manipular o banco de dados. Quando obt√©m uma resposta, o Controller retorna para a View os dados que dever√£o ser exibidos. O controller jamais deve acessar o banco de dados diretamente ou conter l√≥gica de apresenta√ß√£o.</p>
<h2 id="dao---data-access-object"><a class="header" href="#dao---data-access-object">DAO - Data Access Object</a></h2>
<p>Centraliza as opera√ß√µes de banco de dados, executando consultas SQL de cria√ß√£o, leitura, atualiza√ß√£o e exclus√£o, realizadas por m√©todos espec√≠ficos (ex.: <code>createUser</code>, <code>getUserById</code>, <code>updateUser</code>, <code>deleteUser</code>) que o Controller chama. Assim, se a l√≥gica de conex√£o com o banco mudar (ex.: de MySQL para PostgreSQL), √© necess√°rio alterar apenas o DAO, sem afetar a camada de controle.</p>
<h2 id="view"><a class="header" href="#view">View</a></h2>
<p>Representa a parte visual da aplica√ß√£o, que √© exibida no navegador. Respons√°vel pela l√≥gica de apresenta√ß√£o, receber os inputs do usu√°rio em formul√°rios e/ou fazer o display de dados processados nas outras camadas em p√°ginas, listas, mensagens de erro ou sucesso. Esse fluxo de dados para a view √© gerenciado pelo controller, A View em hip√≥tese nenhuma pode ter acesso direto √† camada de acesso a dados (DAO) ou aos dados em si.</p>
<h1 id="exemplo---fluxo-de-comunica√ß√£o-entre-as-camadas"><a class="header" href="#exemplo---fluxo-de-comunica√ß√£o-entre-as-camadas">exemplo - fluxo de comunica√ß√£o entre as camadas:</a></h1>
<ol>
<li>Um usu√°rio interage com a <strong>View</strong> (envia um formul√°rio).</li>
<li>o navegador (client) envia uma requisi√ß√£o HTTP ao servidor (header: POST, body: dados inseridos pelo usu√°rio).</li>
<li>O <strong>Controller</strong> recebe a requisi√ß√£o, valida os dados e chama o met√≥do da classe <strong>DAO</strong>.</li>
<li>O <strong>DAO</strong> acessa o banco, retorna o resultado ao <strong>Controller</strong>.</li>
<li>O <strong>Controller</strong> pepara uma resposta HTTP para o navegador, contendo o status code, header e o corpo da requisi√ß√£o (um HTML ou Json)</li>
<li>O navegador interpreta o c√≥digo de status e os cabe√ßalhos e renderiza o conte√∫do do corpo (HTML, JSON, XML, etc.) para o usu√°rio.</li>
</ol>
<p>Desse modo cada camada tem uma responsabilidade bem definida, o que torna o sistema mais modular e escal√°vel.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="conex---t√≥pico-06"><a class="header" href="#conex---t√≥pico-06">Conex - t√≥pico 06</a></h1>
<blockquote>
<p>Tarefas:</p>
<ul>
<li>Implementar o Backend de todas as funcionalidades citadas, com divis√£o de camadas (DAO e Controller)</li>
<li>Refatorar a camada de view de todas as funcionalidades com a l√≥gica de apresenta√ß√£o</li>
<li>Adicionar a view de Atualiza√ß√£o de perfil do usu√°rio com a l√≥gica de apresenta√ß√£o</li>
</ul>
</blockquote>
<blockquote>
<p>Funcionalidades:</p>
<ul>
<li>Cria√ß√£o de posts no feed</li>
<li>Exibi√ß√£o dos posts de todos os usu√°rios no feed</li>
<li>Atualiza√ß√£o de perfil do usu√°rio</li>
<li>Exibir perfil do usu√°rio</li>
<li>Exibir no perfil do usu√°rio suas respectivas postagens</li>
</ul>
</blockquote>
<h2 id="vis√£o-do-usu√°rio-2"><a class="header" href="#vis√£o-do-usu√°rio-2">Vis√£o do usu√°rio</a></h2>
<p>Cada feature do Conex foi pensanda para criar uma solu√ß√£o que atenda √†s expectativas e necessidades dos usu√°rios. Vejamos como cada funcionalidade se conecta √† experi√™ncia de usu√°rio na pr√°tica:</p>
<h3 id="cria√ß√£o-de-posts-no-feed"><a class="header" href="#cria√ß√£o-de-posts-no-feed">Cria√ß√£o de posts no feed</a></h3>
<ul>
<li>Como usu√°rio autenticado, Quero criar e publicar um novo post (por exemplo, com imagem e/ou texto) no meu feed, Para que eu possa compartilhar minhas atualiza√ß√µes e experi√™ncias com minha rede.</li>
</ul>
<h3 id="exibi√ß√£o-dos-posts-de-todos-os-usu√°rios-no-feed"><a class="header" href="#exibi√ß√£o-dos-posts-de-todos-os-usu√°rios-no-feed">Exibi√ß√£o dos posts de todos os usu√°rios no feed</a></h3>
<ul>
<li>Como usu√°rio logado, quero visualizar os posts de todos os usu√°rios em uma √∫nica p√°gina do feed, para que eu possa acompanhar as novidades e intera√ß√µes da comunidade em tempo real.</li>
</ul>
<h3 id="atualiza√ß√£o-do-perfil-do-usu√°rio"><a class="header" href="#atualiza√ß√£o-do-perfil-do-usu√°rio">Atualiza√ß√£o do perfil do usu√°rio</a></h3>
<ul>
<li>Como usu√°rio, quero editar minhas informa√ß√µes pessoais (como nome, foto, biografia, e outros dados relevantes), para que meu perfil reflita minhas informa√ß√µes atuais e facilite minha identifica√ß√£o na plataforma.</li>
</ul>
<h3 id="exibir-perfil-do-usu√°rio"><a class="header" href="#exibir-perfil-do-usu√°rio">Exibir perfil do usu√°rio</a></h3>
<ul>
<li>Como qualquer usu√°rio (ou visitante), quero acessar e visualizar o perfil de outros usu√°rios, para que eu possa conhecer mais sobre eles, suas atividades e potencialmente interagir.</li>
</ul>
<h3 id="exibir-no-perfil-do-usu√°rio-suas-respectivas-postagens"><a class="header" href="#exibir-no-perfil-do-usu√°rio-suas-respectivas-postagens">Exibir no perfil do usu√°rio suas respectivas postagens</a></h3>
<ul>
<li>Como usu√°rio dono do perfil, quero ver uma listagem organizada de todos os meus posts, para que eu possa gerenciar minhas publica√ß√µes, revisitar conte√∫dos antigos ou excluir posts indesejados.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cria√ß√£o-de-posts-no-feed-1"><a class="header" href="#cria√ß√£o-de-posts-no-feed-1">Cria√ß√£o de posts no feed</a></h1>
<h2 id="planejamento-arquitetural-do-sistema"><a class="header" href="#planejamento-arquitetural-do-sistema">Planejamento Arquitetural do Sistema</a></h2>
<ul>
<li>
<p>View (profile.php):</p>
<ul>
<li>
<p>Exibe um formul√°rio para o usu√°rio fazer upload de uma foto para o feed.</p>
</li>
<li>
<p>O formul√°rio √© exibido apenas para o pr√≥prio usu√°rio (n√£o para outros usu√°rios).</p>
</li>
<li>
<p>O formul√°rio envia os dados para o controller (upload-feed.php) via m√©todo POST.</p>
</li>
</ul>
</li>
<li>
<p>Controller (upload-feed.php):</p>
<ul>
<li>
<p>Recebe os dados do formul√°rio (arquivo de imagem).</p>
</li>
<li>
<p>Valida e processa o upload da imagem.</p>
</li>
<li>
<p>Chama o DAO para persistir os dados no banco.</p>
</li>
</ul>
</li>
<li>
<p>DAO (posts-dao.php):</p>
<ul>
<li>Executa a query SQL para inserir o post no banco de dados.</li>
</ul>
</li>
</ul>
<h2 id="na-pr√°tica"><a class="header" href="#na-pr√°tica">Na pr√°tica</a></h2>
<p>Arquivo: t06-crud-php/view/profile.php</p>
<pre><code class="language-html">&lt;!-- Formul√°rio de upload de foto (apenas para o pr√≥prio usu√°rio) --&gt;
&lt;?php if ((int)$user_id === (int)$logged_in_user_id): ?&gt;
&lt;div class="upload-container"&gt;
  &lt;form
    action="&lt;?= BASE_URL ?&gt;src/controllers/posts/upload-feed-photo.php"
    method="POST"
    enctype="multipart/form-data"
  &gt;
    &lt;label for="photo"&gt;
      &lt;img src="&lt;?= BASE_URL ?&gt;public/img/add-photo.svg" class="icon" /&gt; &lt;br /&gt;
      Adicionar foto
    &lt;/label&gt;
    &lt;input type="file" id="photo" name="photo" accept="image/*" /&gt;
    &lt;button type="submit" class="btn-upload"&gt;Enviar&lt;/button&gt;
  &lt;/form&gt;
&lt;/div&gt;
&lt;?php endif; ?&gt;
</code></pre>
<ul>
<li>
<p>Responsabilidade:</p>
<ul>
<li>
<p>Exibe um formul√°rio para upload de fotos no feed.</p>
</li>
<li>
<p>O formul√°rio s√≥ √© exibido se o usu√°rio logado estiver visualizando seu pr√≥prio perfil.</p>
</li>
<li>
<p>O formul√°rio envia o arquivo para o controller (<code>upload-feed.php</code>) via POST.</p>
</li>
</ul>
</li>
</ul>
<hr />
<p>Arquivo: src/controllers/posts/upload-feed.php</p>
<pre><code class="language-php">&lt;?php
session_start();

require_once __DIR__ . "/../../dao/posts-dao.php";
require_once __DIR__ . "/../../../dir-config.php";
require_once __DIR__ . "/../../utils/upload-handler.php";

if (!isset($_SESSION['user_id'], $_SESSION['user_name'])) {
    header("Location: " . BASE_URL . "view/login.php");
    exit;
}

$user_id = $_SESSION['user_id'];
$postsDao = new PostsDao();

if ($_SERVER['REQUEST_METHOD'] === 'POST' &amp;&amp; isset($_FILES['photo'])) {
    $uploadDir = '../../../uploads/feed/';
    $allowedTypes = ['jpg', 'jpeg', 'png', 'gif'];

    $dbUpdateCallback = function ($photoUrl) use ($user_id, $postsDao) {
        return $postsDao-&gt;createPost($user_id, $photoUrl);
    };

    $uploadResult = UploadHandler::handleUpload($_FILES['photo'], $uploadDir, $allowedTypes, $dbUpdateCallback);

    if ($uploadResult['success']) {
        $_SESSION['success'] = "Foto do feed atualizada com sucesso!";
    } else {
        $_SESSION['error'] = $uploadResult['error'];
    }
    header("Location: " . BASE_URL . "view/profile.php");
    exit;
}
?&gt;
</code></pre>
<ul>
<li>
<p>Responsabilidade:</p>
<ul>
<li>
<p>Inicia a sess√£o e verifica se o usu√°rio est√° logado.</p>
</li>
<li>
<p>Recebe o arquivo enviado pelo formul√°rio <code>($\_FILES['photo'])</code>.</p>
</li>
<li>
<p>Define o diret√≥rio de upload e os tipos de arquivo permitidos.</p>
</li>
<li>
<p>Utiliza o <code>UploadHandler</code> para processar o upload da imagem.</p>
</li>
<li>
<p>Ap√≥s o upload bem-sucedido, chama o m√©todo <code>createPost</code> do DAO para inserir o post no banco de dados.</p>
</li>
<li>
<p>Redireciona o usu√°rio de volta para a p√°gina de perfil com uma mensagem de sucesso ou erro.</p>
</li>
</ul>
</li>
</ul>
<hr />
<p>Arquivo: src/dao/posts-dao.php</p>
<pre><code class="language-php">public function createPost($userId, $photo_url) {
    $sql = "INSERT INTO posts (user_id, photo_url) VALUES (:userId, :photo_url)";
    $stmt = $this-&gt;db-&gt;prepare($sql);
    return $stmt-&gt;execute([':userId' =&gt; $userId, ':photo_url' =&gt; $photo_url]);
}
</code></pre>
<ul>
<li>
<p>Responsabilidade:</p>
<ul>
<li>
<p>Executa a query SQL para inserir um novo post na tabela <code>posts</code>.</p>
</li>
<li>
<p>Recebe o ID do usu√°rio e a URL da foto como par√¢metros.</p>
</li>
<li>
<p>Retorna <code>true</code> se a inser√ß√£o for bem-sucedida.</p>
</li>
</ul>
</li>
</ul>
<hr />
<p>Arquivo: src/utils/upload-handler.php</p>
<pre><code class="language-php">public static function handleUpload($file, $uploadDir, $allowedTypes, $dbUpdateCallback) {
    if (!is_dir($uploadDir)) {
        mkdir($uploadDir, 0777, true);
    }
    $fileType = strtolower(pathinfo($file['name'], PATHINFO_EXTENSION));

    if (!in_array($fileType, $allowedTypes)) {
        return ['success' =&gt; false, 'error' =&gt; "Apenas arquivos " . implode(", ", $allowedTypes) . " s√£o permitidos."];
    }

    $fileName = uniqid() . '_' . basename($file['name']);
    $targetFile = $uploadDir . $fileName;

    if (move_uploaded_file($file['tmp_name'], $targetFile)) {
        $photoUrl = $fileName;
        $dbUpdateResult = $dbUpdateCallback($photoUrl);

        if ($dbUpdateResult) {
            return ['success' =&gt; true, 'photoUrl' =&gt; $photoUrl];
        } else {
            return ['success' =&gt; false, 'error' =&gt; "Erro ao atualizar o banco de dados."];
        }
    } else {
        return ['success' =&gt; false, 'error' =&gt; "Erro ao fazer upload da imagem."];
    }
}
</code></pre>
<ul>
<li>
<p>Responsabilidade:</p>
<ul>
<li>
<p>Valida o tipo de arquivo e move o arquivo para o diret√≥rio de upload.</p>
</li>
<li>
<p>Gera um nome √∫nico para o arquivo.</p>
</li>
<li>
<p>Chama o callback (<code>$dbUpdateCallback</code>) para atualizar o banco de dados com a URL da foto.</p>
</li>
<li>
<p>Retorna um array com o status do upload e a URL da foto (em caso de sucesso) ou uma mensagem de erro.</p>
</li>
</ul>
</li>
</ul>
<hr />
<h2 id="fluxo-completo"><a class="header" href="#fluxo-completo">Fluxo Completo</a></h2>
<ol>
<li>
<p>O usu√°rio acessa a p√°gina de perfil (<code>profile.php</code>) e v√™ o formul√°rio de upload de foto (se for o pr√≥prio perfil).</p>
</li>
<li>
<p>O usu√°rio seleciona uma imagem e clica em "Enviar".</p>
</li>
<li>
<p>O formul√°rio envia a imagem para o controller (<code>upload-feed.php</code>).</p>
</li>
<li>
<p>O controller processa o upload da imagem usando o <code>UploadHandler</code>.</p>
</li>
<li>
<p>Ap√≥s o upload, o controller chama o m√©todo <code>createPost</code> do DAO para inserir o post no banco de dados.</p>
</li>
<li>
<p>O usu√°rio √© redirecionado de volta para a p√°gina de perfil com uma mensagem de sucesso ou erro.</p>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="exibi√ß√£o-dos-posts-de-todos-os-usu√°rios-no-feed-1"><a class="header" href="#exibi√ß√£o-dos-posts-de-todos-os-usu√°rios-no-feed-1">Exibi√ß√£o dos posts de todos os usu√°rios no feed</a></h1>
<h2 id="planejamento-arquitetural-do-sistema-1"><a class="header" href="#planejamento-arquitetural-do-sistema-1">Planejamento Arquitetural do Sistema</a></h2>
<ul>
<li>
<p>View (feed.php):</p>
<ul>
<li>
<p>Exibe os posts de todos os usu√°rios em um feed.</p>
</li>
<li>
<p>Itera sobre a lista de posts e renderiza cada um deles com informa√ß√µes como foto de perfil, nome do usu√°rio e imagem do post.</p>
</li>
</ul>
</li>
<li>
<p>Controller (get-all-posts.php):</p>
<ul>
<li>
<p>Recupera todos os posts do banco de dados utilizando o DAO.</p>
</li>
<li>
<p>Passa os dados dos posts para a view.</p>
</li>
</ul>
</li>
<li>
<p>DAO (posts-dao.php):</p>
<ul>
<li>Executa a query SQL para buscar todos os posts, juntamente com as informa√ß√µes do usu√°rio que fez o post.</li>
</ul>
</li>
</ul>
<h2 id="na-pr√°tica-1"><a class="header" href="#na-pr√°tica-1">Na pr√°tica</a></h2>
<p>Arquivo: Arquivo: view/feed.php</p>
<pre><code class="language-html">&lt;?php
require_once __DIR__ . '/../dir-config.php';
require_once __DIR__ . '/../src/controllers/posts/get-all-posts.php';
?&gt;

&lt;!DOCTYPE html&gt;
&lt;html lang="pt-br"&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8" /&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0" /&gt;
    &lt;title&gt;P√°gina Principal&lt;/title&gt;
    &lt;link rel="stylesheet" href="&lt;?= BASE_URL ?&gt;public/css/home.css" /&gt;
  &lt;/head&gt;

  &lt;body class="home-page"&gt;
    &lt;?php include __DIR__ . '/components/side-bar.php'; ?&gt;

    &lt;!-- Conte√∫do Principal --&gt;
    &lt;main class="container"&gt;
      &lt;!-- Se√ß√£o de Feed de Posts --&gt;
      &lt;section class="feed"&gt;
        &lt;?php if ($posts): ?&gt;
        &lt;!-- Itera sobre cada post --&gt;
        &lt;?php foreach ($posts as $post): ?&gt;
        &lt;article class="post"&gt;
          &lt;!-- Cabe√ßalho do Post: Informa√ß√µes do Usu√°rio --&gt;
          &lt;header class="user-info"&gt;
            &lt;!-- Container da Foto de Perfil --&gt;
            &lt;div class="avatar" aria-label="Foto do Usu√°rio"&gt;
              &lt;?php
                                // Define a foto de perfil do usu√°rio
                                $profilePhoto = !empty($post['profile_pic_url'])
                                    ? BASE_URL . 'uploads/' . htmlspecialchars($post['profile_pic_url'])
                                    : BASE_URL . 'public/img/profile.svg';
                                ?&gt;
              &lt;img
                src="&lt;?= $profilePhoto; ?&gt;"
                alt="Foto de Perfil"
                class="profile-picture"
              /&gt;
            &lt;/div&gt;

            &lt;!-- Link para o Perfil do Usu√°rio --&gt;
            &lt;a
              href="&lt;?= BASE_URL ?&gt;view/profile.php?id=&lt;?= htmlspecialchars($post['user_id'] ?? '') ?&gt;"
              class="username"
            &gt;
              &lt;?= htmlspecialchars($post['username'] ?? '') ?&gt;
            &lt;/a&gt;
          &lt;/header&gt;

          &lt;!-- Container da Imagem do Post --&gt;
          &lt;div class="image-placeholder" aria-label="Imagem do Post"&gt;
            &lt;?php if (!empty($post['photo_url'])): ?&gt;
            &lt;!-- Exibe a imagem do post, se houver --&gt;
            &lt;img
              src="&lt;?= BASE_URL . 'uploads/feed/' . htmlspecialchars($post['photo_url']) ?&gt;"
              alt="Imagem do post"
            /&gt;
            &lt;?php endif; ?&gt;
          &lt;/div&gt;
        &lt;/article&gt;

        &lt;!-- Divisor entre os posts --&gt;
        &lt;hr class="divider" /&gt;
        &lt;?php endforeach; ?&gt;
        &lt;?php else: ?&gt;
        &lt;p&gt;0 postagens no seu feed&lt;/p&gt;
        &lt;?php endif; ?&gt;
      &lt;/section&gt;
    &lt;/main&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<ul>
<li>
<p>Responsabilidade:</p>
<ul>
<li>
<p>Exibe os posts de todos os usu√°rios.</p>
</li>
<li>
<p>Itera sobre a lista de posts (<code>$posts</code>) e renderiza cada post com:</p>
<ul>
<li>
<p>Foto de perfil do usu√°rio.</p>
</li>
<li>
<p>Nome do usu√°rio (com link para o perfil).</p>
</li>
<li>
<p>Imagem do post.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Se n√£o houver posts, exibe uma mensagem informando que n√£o h√° postagens.</p>
</li>
</ul>
<hr />
<p>Arquivo: src/controllers/posts/get-all-posts.php</p>
<pre><code class="language-php">&lt;?php
require __DIR__ . '/../../dao/posts-dao.php';

if (!isset($_SESSION['user_id'])) {
    header("Location: " . BASE_URL . "view/login.php");
    exit;
}

try {
    $postsDao = new PostsDao();
    $posts = $postsDao-&gt;getAllPosts();
} catch (PDOException $e) {
    die("Erro ao buscar dados: " . $e-&gt;getMessage());
}
</code></pre>
<ul>
<li>
<p>Responsabilidade:</p>
<ul>
<li>
<p>Verifica se o usu√°rio est√° logado (caso contr√°rio, redireciona para a p√°gina de login).</p>
</li>
<li>
<p>Instancia o <code>PostsDao</code> e chama o m√©todo <code>getAllPosts</code> para recuperar todos os posts.</p>
</li>
<li>
<p>Em caso de erro, exibe uma mensagem de erro.</p>
</li>
</ul>
</li>
</ul>
<hr />
<p>Arquivo: src/dao/posts-dao.php</p>
<pre><code class="language-php">public function getAllPosts() {
    $sql = "SELECT p.id, p.photo_url, p.user_id, p.upload_date, p.description, u.username, u.profile_pic_url
            FROM posts p
            JOIN users u ON p.user_id = u.id
            ORDER BY p.upload_date DESC";

    $stmt = $this-&gt;db-&gt;prepare($sql);
    $stmt-&gt;execute();
    return $stmt-&gt;fetchAll(PDO::FETCH_ASSOC);
}
</code></pre>
<ul>
<li>
<p>Responsabilidade:</p>
<ul>
<li>
<p>Executa uma query SQL para buscar todos os posts, juntamente com as informa√ß√µes do usu√°rio que fez o post (nome e foto de perfil).</p>
</li>
<li>
<p>Ordena os posts pela data de upload (do mais recente para o mais antigo).</p>
</li>
<li>
<p>Retorna um array associativo com os dados dos posts.</p>
</li>
</ul>
</li>
</ul>
<hr />
<h2 id="fluxo-completo-1"><a class="header" href="#fluxo-completo-1">Fluxo Completo</a></h2>
<ol>
<li>
<p>O usu√°rio acessa a p√°gina de feed (<code>feed.php</code>).</p>
</li>
<li>
<p>O controller (<code>get-all-posts.php</code>) √© chamado para recuperar os posts do banco de dados.</p>
</li>
<li>
<p>O controller utiliza o DAO (<code>posts-dao.php</code>) para buscar todos os posts.</p>
</li>
<li>
<p>Os dados dos posts s√£o passados para a view (<code>feed.php</code>).</p>
</li>
<li>
<p>A view itera sobre os posts e renderiza cada um deles com as informa√ß√µes do usu√°rio e a imagem do post.</p>
</li>
<li>
<p>Se n√£o houver posts, a view exibe uma mensagem informando que n√£o h√° postagens.</p>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="atualiza√ß√£o-de-perfil-do-usu√°rio"><a class="header" href="#atualiza√ß√£o-de-perfil-do-usu√°rio">Atualiza√ß√£o de perfil do usu√°rio</a></h1>
<p>Neste t√≥pico, vamos entender como as camadas DAO, Controller e View se comunicam no contexto real de implementa√ß√£o de uma feature, exemplificado pelos arquivos "profile-update.php", "update-user.php" e "user-dao.php".</p>
<h2 id="planejamento-arquitetural-do-sistema-2"><a class="header" href="#planejamento-arquitetural-do-sistema-2">Planejamento Arquitetural do sistema</a></h2>
<ul>
<li>View: Exibir√° um formul√°rio para edi√ß√£o dos dados do usu√°rio, com os dados dele j√° setados como value dos inputs</li>
<li>Controller: armazenar√° os resultados nos inputs no HTML em vari√°reis e passar√° para a camada de DAO por refer√™ncia nos seus metodos</li>
<li>DAO: executar√° queries SQL para persistir esses dados no banco.</li>
</ul>
<h2 id="na-pr√°tica-2"><a class="header" href="#na-pr√°tica-2">Na pr√°tica</a></h2>
<p>Arquivo: t06-crud-php/view/profile-update.php</p>
<pre><code class="language-php">&lt;?php
require_once __DIR__ . "/../dir-config.php";
require_once __DIR__ . "/../src/controllers/users/update-user.php";
//echo $id;
?&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang="pt-BR"&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;Atualizar Perfil&lt;/title&gt;
    &lt;link rel="stylesheet" href="&lt;?= BASE_URL ?&gt;public/css/profile-update.css"&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;?php include __DIR__ . '/components/side-bar.php'; ?&gt;  

    &lt;div class="form-container"&gt;
        &lt;h1&gt;Atualize seu perfil&lt;/h1&gt;
        &lt;form method="POST" action="&lt;?= BASE_URL ?&gt;src/controllers/users/update-user.php?id=&lt;?= $id ?&gt;" class="form-group" enctype="multipart/form-data"&gt;
            &lt;div class="form-wrapper"&gt;
                &lt;div class="form-control"&gt;
                    &lt;label for="username"&gt;Nome: &lt;/label&gt;
                    &lt;input type="text" name="username" value="&lt;?= htmlspecialchars($user['username']) ?&gt;" id="username"/&gt;
                &lt;/div&gt;
                &lt;div class="form-control"&gt;
                    &lt;label for="phone"&gt;Telefone: &lt;/label&gt;
                    &lt;input type="tel" name="phone" value="&lt;?= htmlspecialchars($user['phone']) ?&gt;" id="phone"/&gt;
                &lt;/div&gt;
                &lt;div class="form-control"&gt;
                    &lt;label for="email"&gt;Email: &lt;/label&gt;
                    &lt;input type="email" name="email" value="&lt;?= htmlspecialchars($user['email']) ?&gt;" id="email"/&gt;
                &lt;/div&gt;
                &lt;div class="form-control"&gt;
                    &lt;label for="bio"&gt;Bio: &lt;/label&gt;
                    &lt;input type="text" name="bio" value="&lt;?= htmlspecialchars($user['bio'] || "") ?&gt;" id="bio" /&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;div class="form-control"&gt;
                &lt;label for="profile_pic"&gt;Foto de Perfil: &lt;/label&gt;
                &lt;input type="file" name="profile_pic_url" id="profile_pic_url" accept="image/*" /&gt;
            &lt;/div&gt;
            &lt;div class="btn-wrapper"&gt;
                &lt;button class="btn" name="edit"&gt;Confirmar&lt;/button&gt;
            &lt;/div&gt;
            &lt;div class="btn-wrapper"&gt;
                &lt;button class="btn btn-danger" name="delete" onclick="return confirm('Tem certeza que deseja excluir sua conta? Esta a√ß√£o n√£o pode ser desfeita.');"&gt;
                    Deletar Usu√°rio
                &lt;/button&gt;
                &lt;button class="btn btn-danger" name="logout" onclick="return confirm('Tem certeza que deseja sair?');"&gt;
                    Sair
                &lt;/button&gt;
            &lt;/div&gt;
        &lt;/form&gt; 
    &lt;/div&gt;
&lt;/body&gt;

&lt;/html&gt;
</code></pre>
<ul>
<li><strong>Exibe um formul√°rio HTML</strong> contendo os inputs preenchidos com os dados atuais do usu√°rio (como nome, e-mail, telefone, bio e foto de perfil).</li>
<li><strong>Inclui o atributo <code>enctype="multipart/form-data"</code></strong> para possibilitar o upload de arquivos (foto de perfil).</li>
<li><strong>Define a a√ß√£o do formul√°rio</strong> para o controller de atualiza√ß√£o, enviando os dados via m√©todo POST.</li>
<li><strong>Renderiza a barra lateral</strong> e demais componentes de layout para manter a consist√™ncia visual da aplica√ß√£o.</li>
</ul>
<p>Ao enviar o formul√°rio, os dados e o arquivo (imagem) s√£o enviados para o <em>update-user.php</em>.</p>
<hr />
<p>Arquivo: t06-crud-php/src/controllers/users/update-user.php</p>
<pre><code class="language-php">&lt;?php
session_start();

require_once __DIR__ . "/../../../dir-config.php";
require_once __DIR__ . "/../../dao/user-dao.php";
require_once __DIR__ . "/../../../database.php";
require_once __DIR__ . "/../../utils/upload-handler.php";

$userDao = new UserDao();

if (!isset($_GET["id"])) {
    die("Par√¢metro user_id n√£o informado.");
}

$id = $_GET["id"];

$user = $userDao-&gt;getUserProfileById($id);

if (!$user) {
    die("Usu√°rio n√£o encontrado.");
}

if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    if (isset($_POST['edit'])) {
        $name = trim($_POST['username']);
        $email = trim($_POST['email']);
        $phone = trim($_POST['phone']);
        $bio = trim($_POST['bio']);

        if (isset($_FILES['profile_pic_url']) &amp;&amp; $_FILES['profile_pic_url']['error'] === UPLOAD_ERR_OK) {
            $uploadDir = __DIR__ . "/../../../uploads/avatars/";
            $allowedTypes = ['jpg', 'jpeg', 'png', 'gif'];

            $dbUpdateCallback = function ($photoUrl) use ($id, $userDao) {
                return $userDao-&gt;updateProfilePic($photoUrl, $id);
            };

            $uploadResult = UploadHandler::handleUpload($_FILES['profile_pic_url'], $uploadDir, $allowedTypes, $dbUpdateCallback);

            if (!$uploadResult['success']) {
                die($uploadResult['error']);
            }
        }

        try {
            $userDao-&gt;updateUser($name, $email, $bio, $phone, $id);
            $_SESSION['user_name'] = $name;
            header("Location: " . BASE_URL . "view/profile.php?id=$id");
            exit;
        } catch (Exception $e) {
            echo 'Erro: ' . $e-&gt;getMessage();
        }
    } else if(isset($_POST['delete'])) {
        try {
            $userDao-&gt;deleteUser($id);
            session_destroy();
            header("Location: " . BASE_URL . "view/login.php");
            exit;
        } catch (Exception $e) {
            echo 'Erro: ' . $e-&gt;getMessage();
        }
    } else if (isset($_POST['logout'])) {
        session_destroy();
        header("Location: " . BASE_URL . "view/login.php");
        exit;
    }
}
</code></pre>
<p>O arquivo <code>update-user.php</code> √© respons√°vel por:</p>
<ul>
<li><strong>Iniciar a sess√£o</strong> com <code>session_start()</code> para garantir que os dados do usu√°rio estejam dispon√≠veis.</li>
<li><strong>Incluir depend√™ncias importantes</strong>, como as classes do DAO, o arquivo de configura√ß√£o (<code>dir-config.php</code>), e o <em>upload-handler</em> para processar o arquivo enviado.</li>
</ul>
<h3 id="fluxo-do-controller"><a class="header" href="#fluxo-do-controller">Fluxo do Controller:</a></h3>
<ol>
<li>
<p><strong>Verifica√ß√£o de par√¢metros:</strong></p>
<ul>
<li>O controller certifica-se de que o par√¢metro <code>id</code> (identificador do usu√°rio a ser atualizado) est√° definido.</li>
<li>Recupera os dados atuais do usu√°rio usando o m√©todo <code>getUserProfileById</code> do UserDao.</li>
</ul>
</li>
<li>
<p><strong>Processamento da requisi√ß√£o:</strong></p>
<ul>
<li>Caso o m√©todo HTTP seja POST, o controller identifica qual a√ß√£o ser√° executada:
<ul>
<li>
<p><strong>Editar o perfil (<code>edit</code>)</strong>:</p>
<ul>
<li>Extrai os dados enviados pelo formul√°rio (nome, e-mail, telefone, bio).</li>
<li><strong>Verifica se h√° um arquivo para upload</strong> (campo <code>profile_pic_url</code>), e em caso afirmativo, chama o <em>upload-handler</em> que:
<ul>
<li>Processa o arquivo (valida extens√£o, move para o diret√≥rio correto).</li>
<li>Utiliza um callback para atualizar a foto de perfil no banco de dados (por meio do m√©todo <code>updateProfilePic</code> do DAO).</li>
</ul>
</li>
<li>Ap√≥s o upload (se houver) e a valida√ß√£o dos dados, o controller chama o m√©todo <code>updateUser</code>, que executa a query SQL para atualizar o registro.</li>
<li>Atualiza vari√°veis de sess√£o (por exemplo, o nome do usu√°rio) e redireciona para a p√°gina de perfil com um status de sucesso.</li>
</ul>
</li>
<li>
<p><strong>Deletar o usu√°rio (<code>delete</code>)</strong>:</p>
<ul>
<li>Caso o usu√°rio opte por excluir a conta, o controller chama o m√©todo <code>deleteUser</code>, destr√≥i a sess√£o e redireciona para a tela de login.</li>
</ul>
</li>
<li>
<p><strong>Logout (<code>logout</code>)</strong>:</p>
<ul>
<li>Se o usu√°rio optar por sair da aplica√ß√£o, o controller encerra a sess√£o e redireciona para a p√°gina de login.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Tratamento de erros:</strong></p>
<ul>
<li>Caso ocorra alguma exce√ß√£o (por exemplo, erro de upload ou na execu√ß√£o de uma query SQL), o controller imprime a mensagem de erro para auxiliar na depura√ß√£o.</li>
</ul>
</li>
</ol>
<hr />
<p>Arquivo: t06-crud-php/src/dao/user-dao.php</p>
<pre><code class="language-php">{{#include ../../t06-crud-php/src/dao/user-dao.php:38:45}}
</code></pre>
<ul>
<li><strong>getUserProfileById($id)</strong>
Recupera os dados id, username, email, phone, bio, profile_pic_url, count_followers, count_following referente ao perfil do usu√°rio apartir do seu id.</li>
</ul>
<pre><code class="language-php">{{#include ../../t06-crud-php/src/dao/user-dao.php:81:85}}
</code></pre>
<ul>
<li><strong>updateProfilePic($profilePicUrl, $id):</strong><br />
M√©todo espec√≠fico para atualiza√ß√£o da foto de perfil, este m√©todo recebe a url da imagem processada e executa uma query para persistir o valor no campo <code>profile_pic_url</code> da tabela users.</li>
</ul>
<pre><code class="language-php">{{#include ../../t06-crud-php/src/dao/user-dao.php:64:70}}
</code></pre>
<ul>
<li><strong>updateUser($username, $email, $bio, $phone, $id):</strong><br />
Atualiza os dados b√°sicos do usu√°rio (nome, e-mail, bio, telefone) atrav√©s de uma query SQL.</li>
</ul>
<pre><code class="language-php">{{#include ../../t06-crud-php/src/dao/user-dao.php:71:78}}
</code></pre>
<ul>
<li><strong>deleteUser($id):</strong><br />
Remove o registro do usu√°rio do banco, sendo ativado quando o usu√°rio opta por excluir sua conta.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="exibir-perfil-do-usu√°rio-1"><a class="header" href="#exibir-perfil-do-usu√°rio-1">Exibir perfil do usu√°rio</a></h1>
<h2 id="planejamento-arquitetural-do-sistema-3"><a class="header" href="#planejamento-arquitetural-do-sistema-3">Planejamento Arquitetural do Sistema</a></h2>
<ul>
<li>
<p>View (profile.php):</p>
<ul>
<li>
<p>Exibe as informa√ß√µes do perfil do usu√°rio, como nome, foto de perfil, bio, n√∫mero de seguidores, n√∫mero de usu√°rios seguidos e posts do usu√°rio.</p>
</li>
<li>
<p>Renderiza os componentes de layout, como a barra lateral e o formul√°rio de upload de foto (apenas para o pr√≥prio usu√°rio).</p>
</li>
</ul>
</li>
<li>
<p>Controller (profile-user.php):</p>
<ul>
<li>
<p>Recupera os dados do perfil do usu√°rio e seus posts utilizando o DAO.</p>
</li>
<li>
<p>Passa os dados para a view.</p>
</li>
</ul>
</li>
<li>
<p>DAO (user-dao.php e posts-dao.php):</p>
<ul>
<li>Executa as queries SQL para buscar as informa√ß√µes do usu√°rio e seus posts.</li>
</ul>
</li>
</ul>
<h2 id="na-pr√°tica-3"><a class="header" href="#na-pr√°tica-3">Na Pr√°tica</a></h2>
<p>Arquivo: view/profile.php</p>
<pre><code class="language-html">&lt;?php
require_once __DIR__ . "/../dir-config.php";
require_once __DIR__ . '/../src/controllers/users/profile-user.php';
?&gt;

&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
  &lt;head&gt;
    &lt;meta charset="UTF-8" /&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0" /&gt;
    &lt;title&gt;Perfil&lt;/title&gt;
    &lt;link rel="stylesheet" href="&lt;?= BASE_URL ?&gt;public/css/profile.css" /&gt;
  &lt;/head&gt;

  &lt;body&gt;
    &lt;?php include __DIR__ . '/components/side-bar.php'; ?&gt;

    &lt;main class="profile-container"&gt;
      &lt;!-- Se√ß√£o de informa√ß√µes do usu√°rio --&gt;
      &lt;section class="info-section"&gt;
        &lt;div class="photo-container"&gt;
          &lt;!-- Exibe a foto de perfil do usu√°rio --&gt;
          &lt;img
            src="&lt;?= $profilePhoto; ?&gt;"
            alt="Foto de Perfil"
            class="profile-picture"
          /&gt;

          &lt;!-- Bot√£o de edi√ß√£o de perfil (apenas para o pr√≥prio usu√°rio) --&gt;
          &lt;?php if ((int)$user_id === (int)$logged_in_user_id): ?&gt;
          &lt;button class="btn-edit"&gt;
            &lt;a href="&lt;?= BASE_URL ?&gt;view/profile-update.php?id=&lt;?= $user_id; ?&gt;"
              &gt;Editar Perfil&lt;/a
            &gt;
          &lt;/button&gt;
          &lt;?php endif; ?&gt;
        &lt;/div&gt;

        &lt;div class="user-info"&gt;
          &lt;!-- Exibe o nome do usu√°rio --&gt;
          &lt;h1 class="user-name"&gt;&lt;?php echo $userName; ?&gt;&lt;/h1&gt;
          &lt;div class="stats-container"&gt;
            &lt;!-- Exibe o n√∫mero de seguidores e usu√°rios seguidos --&gt;
            &lt;span class="following"
              &gt;&lt;?= $following; ?&gt;
              seguindo&lt;/span
            &gt;
            &lt;span class="followers"
              &gt;&lt;?= $followers; ?&gt;
              seguidores&lt;/span
            &gt;
          &lt;/div&gt;

          &lt;!-- Formul√°rio para seguir/deixar de seguir (apenas para outros usu√°rios) --&gt;
          &lt;?php if ((int)$user_id !== (int)$logged_in_user_id): ?&gt;
          &lt;form method="POST"&gt;
            &lt;input
              type="hidden"
              name="action"
              value="&lt;?= $isFollowing ? 'unfollow' : 'follow' ?&gt;"
            /&gt;
            &lt;button type="submit" class="btn-follow"&gt;
              &lt;?= $isFollowing ? 'Deixar de seguir' : 'Seguir' ?&gt;
            &lt;/button&gt;
          &lt;/form&gt;
          &lt;?php endif; ?&gt;
        &lt;/div&gt;

        &lt;!-- Bot√£o de postagem (apenas para o pr√≥prio usu√°rio) --&gt;
        &lt;?php if ((int)$user_id === (int)$logged_in_user_id &amp;&amp; !empty($userPosts)): ?&gt;
        &lt;div class="upload-more-photos"&gt;
          &lt;div class="upload-container"&gt;
            &lt;form
              action="&lt;?= BASE_URL ?&gt;src/controllers/posts/upload-feed-photo.php"
              method="POST"
              enctype="multipart/form-data"
            &gt;
              &lt;label for="photo-top"&gt; Adicionar foto &lt;/label&gt;
              &lt;input type="file" id="photo-top" name="photo" accept="image/*" /&gt;
              &lt;button type="submit" class="btn-upload"&gt;Enviar&lt;/button&gt;
            &lt;/form&gt;
          &lt;/div&gt;
        &lt;/div&gt;
        &lt;?php endif; ?&gt;
      &lt;/section&gt;

      &lt;!-- Se√ß√£o da foto do feed --&gt;
      &lt;section class="info-section"&gt;
        &lt;div class="feed-photo-container"&gt;
          &lt;?php if ($userPosts): ?&gt;
          &lt;?php
                    if (isset($userPosts[0]['photo_url'])) {
                        $relativePath = BASE_URL . "uploads/feed/" . htmlspecialchars($userPosts[0]['photo_url']);
                        ?&gt;
          &lt;img
            src="&lt;?= $relativePath; ?&gt;"
            alt="Imagem do Feed"
            class="feed-image"
          /&gt;
          &lt;?php } ?&gt;
          &lt;?php endif; ?&gt;
        &lt;/div&gt;

        &lt;!-- Formul√°rio de upload de foto (apenas para o pr√≥prio usu√°rio e se n√£o houver foto) --&gt;
        &lt;?php if (empty($userPosts) &amp;&amp; (int)$user_id === (int)$logged_in_user_id): ?&gt;
        &lt;div class="pai-do-upload-container"&gt;
          &lt;div class="upload-container"&gt;
            &lt;form
              action="&lt;?= BASE_URL ?&gt;src/controllers/posts/upload-feed-photo.php"
              method="POST"
              enctype="multipart/form-data"
            &gt;
              &lt;label for="photo"&gt;
                &lt;img
                  src="&lt;?= BASE_URL ?&gt;public/img/add-photo.svg"
                  class="icon"
                /&gt;
                &lt;br /&gt;
                Adicionar foto
              &lt;/label&gt;
              &lt;input type="file" id="photo" name="photo" accept="image/*" /&gt;
              &lt;button type="submit" class="btn-upload"&gt;Enviar&lt;/button&gt;
            &lt;/form&gt;
          &lt;/div&gt;
        &lt;/div&gt;
        &lt;?php endif; ?&gt;
      &lt;/section&gt;
    &lt;/main&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<ul>
<li>
<p>Responsabilidade:</p>
<ul>
<li>
<p>Exibe as informa√ß√µes do perfil do usu√°rio, como nome, foto de perfil, bio, n√∫mero de seguidores e usu√°rios seguidos.</p>
</li>
<li>
<p>Renderiza os posts do usu√°rio (se houver).</p>
</li>
<li>
<p>Exibe um formul√°rio de upload de foto apenas para o pr√≥prio usu√°rio.</p>
</li>
<li>
<p>Inclui a barra lateral e outros componentes de layout.</p>
</li>
</ul>
</li>
</ul>
<hr />
<p>Arquivo: src/controllers/users/profile-user.php</p>
<pre><code class="language-php">&lt;?php
require_once __DIR__ . '/../../../database.php';
require_once __DIR__ . '/../../dao/follow-dao.php';
require_once __DIR__ . '/../../dao/user-dao.php';
require_once __DIR__ . '/../../../dir-config.php';
require_once __DIR__ . '/../../dao/posts-dao.php';
require_once __DIR__ . "/../../utils/follow-handler.php";

session_start();
if (!isset($_SESSION['user_id'])) {
    header("Location: " . BASE_URL . "view/login.php");
    exit;
}

$user_id = isset($_GET['id']) ? intval($_GET['id']) : $_SESSION['user_id'];
$logged_in_user_id = $_SESSION['user_id'];

$userDao = new UserDao();
$user = $userDao-&gt;getUserProfileById($user_id);

if (!$user) {
    die("&lt;p&gt;Usu√°rio n√£o encontrado.&lt;/p&gt;");
}

$userName = $user['username'];
$profilePhoto = !empty($user['profile_pic_url'])
    ? BASE_URL . 'uploads/avatars/' . htmlspecialchars($user['profile_pic_url'])
    : BASE_URL . 'public/img/profile.svg';

$followDao = new FollowDao();
$isFollowing = $followDao-&gt;isFollowing($user_id, $logged_in_user_id);

$followers = $followDao-&gt;getFollowers($user_id);
$following = $followDao-&gt;getFollowing($user_id);

if ($_SERVER['REQUEST_METHOD'] === 'POST' &amp;&amp; isset($_POST['action'])) {
    $action = $_POST['action'];

    $followHandler = new FollowHandler();
    $followHandler-&gt;handleFollow($user_id, $logged_in_user_id, $isFollowing, $action);
}

$postsDao = new PostsDao();
$userPosts = $postsDao-&gt;getPostsById($user_id);

$userProfileData = [
    'username' =&gt; htmlspecialchars($user['username']),
    'user_id' =&gt; $user_id,
    'logged_in_user_id' =&gt; $logged_in_user_id,
    'profile_Pic_Url' =&gt; htmlspecialchars($profilePhoto ?? ''),
    'is_Following' =&gt; $isFollowing,
    'followers' =&gt; $followers,
    'following' =&gt; $following,
    'bio' =&gt; htmlspecialchars($user['bio'] ?? ''),
    'photos' =&gt; $userPosts,
];
?&gt;
</code></pre>
<ul>
<li>
<p>Responsabilidade:</p>
<ul>
<li>
<p>Inicia a sess√£o e verifica se o usu√°rio est√° logado.</p>
</li>
<li>
<p>Recupera o ID do usu√°rio a partir da URL ou da sess√£o.</p>
</li>
<li>
<p>Busca as informa√ß√µes do perfil do usu√°rio utilizando o UserDao.</p>
</li>
<li>
<p>Verifica se o usu√°rio logado est√° seguindo o perfil exibido.</p>
</li>
<li>
<p>Busca o n√∫mero de seguidores e usu√°rios seguidos.</p>
</li>
<li>
<p>Busca os posts do usu√°rio utilizando o PostsDao.</p>
</li>
<li>
<p>Passa os dados para a view.</p>
</li>
</ul>
</li>
</ul>
<hr />
<p>Arquivo: src/dao/user-dao.php</p>
<pre><code class="language-php">public function getUserProfileById($id) {
    $query = "SELECT id, username, email, phone, bio, profile_pic_url, count_followers, count_following FROM users WHERE id = :id";
    $stmt = $this-&gt;db-&gt;prepare($query);
    $stmt-&gt;execute([':id' =&gt; $id]);

    return $stmt-&gt;fetch();
}
</code></pre>
<ul>
<li>
<p>Responsabilidade:</p>
<ul>
<li>
<p>Executa uma query SQL para buscar as informa√ß√µes do perfil do usu√°rio (nome, e-mail, telefone, bio, foto de perfil, n√∫mero de seguidores e usu√°rios seguidos).</p>
</li>
<li>
<p>Retorna um array associativo com os dados do usu√°rio.</p>
</li>
</ul>
</li>
</ul>
<hr />
<p>Arquivo: src/dao/posts-dao.php</p>
<pre><code class="language-php">public function getPostsById($userId) {
    $sql = "SELECT p.id, p.photo_url, p.upload_date, p.description, u.username, u.profile_pic_url
            FROM posts p
            JOIN users u ON p.user_id = u.id
            WHERE p.user_id = :userId
            ORDER BY p.upload_date DESC";

    $stmt = $this-&gt;db-&gt;prepare($sql);
    $stmt-&gt;execute([':userId' =&gt; $userId]);
    return $stmt-&gt;fetchAll(PDO::FETCH_ASSOC);
}
</code></pre>
<ul>
<li>
<p>Responsabilidade:</p>
<ul>
<li>
<p>Executa uma query SQL para buscar os posts do usu√°rio, juntamente com as informa√ß√µes do usu√°rio que fez o post.</p>
</li>
<li>
<p>Ordena os posts pela data de upload (do mais recente para o mais antigo).</p>
</li>
<li>
<p>Retorna um array associativo com os dados dos posts.</p>
</li>
</ul>
</li>
</ul>
<hr />
<h2 id="fluxo-completo-2"><a class="header" href="#fluxo-completo-2">Fluxo Completo</a></h2>
<ol>
<li>
<p>O usu√°rio acessa a p√°gina de perfil (<code>profile.php</code>).</p>
</li>
<li>
<p>O controller (<code>profile-user.php</code>) √© chamado para recuperar os dados do perfil e os posts do usu√°rio.</p>
</li>
<li>
<p>O controller utiliza o <code>UserDao</code> para buscar as informa√ß√µes do perfil e o <code>PostsDao</code> para buscar os posts.</p>
</li>
<li>
<p>Os dados s√£o passados para a view (<code>profile.php</code>).</p>
</li>
<li>
<p>A view renderiza as informa√ß√µes do perfil e os posts do usu√°rio</p>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="exibir-no-perfil-do-usu√°rio-suas-respectivas-postagens-1"><a class="header" href="#exibir-no-perfil-do-usu√°rio-suas-respectivas-postagens-1">Exibir no perfil do usu√°rio suas respectivas postagens</a></h1>
<h2 id="planejamento-arquitetural-do-sistema-4"><a class="header" href="#planejamento-arquitetural-do-sistema-4">Planejamento Arquitetural do Sistema</a></h2>
<ul>
<li>
<p>View (profile.php):</p>
<ul>
<li>
<p>Exibe as postagens do usu√°rio em uma se√ß√£o espec√≠fica do perfil.</p>
</li>
<li>
<p>Renderiza cada post com a imagem, data de upload e descri√ß√£o (se houver).</p>
</li>
</ul>
</li>
<li>
<p>Controller (profile-user.php):</p>
<ul>
<li>
<p>Recupera as postagens do usu√°rio utilizando o DAO.</p>
</li>
<li>
<p>Passa os dados das postagens para a view.</p>
</li>
</ul>
</li>
<li>
<p>DAO (posts-dao.php):</p>
<ul>
<li>Executa a query SQL para buscar as postagens do usu√°rio, juntamente com as informa√ß√µes do usu√°rio que fez o post.</li>
</ul>
</li>
</ul>
<h2 id="na-pr√°tica-4"><a class="header" href="#na-pr√°tica-4">Na Pr√°tica</a></h2>
<p>Arquivo: view/profile.php</p>
<pre><code class="language-html">&lt;!-- Se√ß√£o de Feed de Posts --&gt;
&lt;section class="info-section"&gt;
  &lt;?php if ($userPosts): ?&gt;
  &lt;!-- Itera sobre cada post do usu√°rio --&gt;
  &lt;?php foreach ($userPosts as $post): ?&gt;
  &lt;div class="feed-photo-container"&gt;
    &lt;?php if (!empty($post['photo_url'])): ?&gt;
    &lt;!-- Exibe a imagem do post --&gt;
    &lt;img
      src="&lt;?= BASE_URL . 'uploads/feed/' . htmlspecialchars($post['photo_url']) ?&gt;"
      alt="Imagem do post"
      class="feed-image"
    /&gt;
    &lt;?php endif; ?&gt;

    &lt;!-- Exibe a descri√ß√£o do post (se houver) --&gt;
    &lt;?php if (!empty($post['description'])): ?&gt;
    &lt;p class="post-description"&gt;
      &lt;?= htmlspecialchars($post['description']) ?&gt;
    &lt;/p&gt;
    &lt;?php endif; ?&gt;

    &lt;!-- Exibe a data de upload do post --&gt;
    &lt;p class="post-date"&gt;
      Postado em:
      &lt;?= date('d/m/Y H:i', strtotime($post['upload_date'])) ?&gt;
    &lt;/p&gt;
  &lt;/div&gt;
  &lt;?php endforeach; ?&gt;
  &lt;?php else: ?&gt;
  &lt;!-- Mensagem caso o usu√°rio n√£o tenha postagens --&gt;
  &lt;p&gt;Nenhuma postagem encontrada.&lt;/p&gt;
  &lt;?php endif; ?&gt;
&lt;/section&gt;
</code></pre>
<ul>
<li>
<p>Responsabilidade:</p>
<ul>
<li>
<p>Exibe as postagens do usu√°rio em uma se√ß√£o espec√≠fica do perfil.</p>
</li>
<li>
<p>Itera sobre a lista de postagens ($userPosts) e renderiza cada post com:</p>
<ul>
<li>
<p>Imagem do post.</p>
</li>
<li>
<p>Descri√ß√£o do post (se houver).</p>
</li>
<li>
<p>Data de upload do post.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Se n√£o houver postagens, exibe uma mensagem informando que n√£o h√° postagens.</p>
</li>
</ul>
<hr />
<p>Arquivo: src/controllers/users/profile-user.php</p>
<pre><code class="language-php">&lt;?php
// ... (c√≥digo anterior para buscar informa√ß√µes do perfil)

$postsDao = new PostsDao();
$userPosts = $postsDao-&gt;getPostsById($user_id);

$userProfileData = [
    // ... (outros dados do perfil)
    'photos' =&gt; $userPosts, // Passa as postagens para a view
];
?&gt;
</code></pre>
<ul>
<li>
<p>Responsabilidade:</p>
<ul>
<li>
<p>Ap√≥s buscar as informa√ß√µes do perfil, o controller utiliza o PostsDao para buscar as postagens do usu√°rio.</p>
</li>
<li>
<p>Passa os dados das postagens para a view.</p>
</li>
</ul>
</li>
</ul>
<hr />
<p>Arquivo: src/dao/posts-dao.php</p>
<pre><code class="language-php">public function getPostsById($userId) {
    $sql = "SELECT p.id, p.photo_url, p.upload_date, p.description, u.username, u.profile_pic_url
            FROM posts p
            JOIN users u ON p.user_id = u.id
            WHERE p.user_id = :userId
            ORDER BY p.upload_date DESC";

    $stmt = $this-&gt;db-&gt;prepare($sql);
    $stmt-&gt;execute([':userId' =&gt; $userId]);
    return $stmt-&gt;fetchAll(PDO::FETCH_ASSOC);
}
</code></pre>
<ul>
<li>
<p>Responsabilidade:</p>
<ul>
<li>
<p>Executa uma query SQL para buscar as postagens do usu√°rio, juntamente com as informa√ß√µes do usu√°rio que fez o post.</p>
</li>
<li>
<p>Ordena os posts pela data de upload (do mais recente para o mais antigo).</p>
</li>
<li>
<p>Retorna um array associativo com os dados dos posts.</p>
</li>
</ul>
</li>
</ul>
<hr />
<h2 id="fluxo-completo-3"><a class="header" href="#fluxo-completo-3">Fluxo Completo</a></h2>
<ol>
<li>
<p>O usu√°rio acessa a p√°gina de perfil (<code>profile.php</code>).</p>
</li>
<li>
<p>O controller (<code>profile-user.php</code>) √© chamado para recuperar os dados do perfil e as postagens do usu√°rio.</p>
</li>
</ol>
<p>3.O controller utiliza o <code>PostsDao</code> para buscar as postagens do usu√°rio.</p>
<ol start="4">
<li>
<p>Os dados das postagens s√£o passados para a view (<code>profile.php</code>).</p>
</li>
<li>
<p>A view renderiza as postagens do usu√°rio em uma se√ß√£o espec√≠fica do perfil.</p>
</li>
</ol>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
